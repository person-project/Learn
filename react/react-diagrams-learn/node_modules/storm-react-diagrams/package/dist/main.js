(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("lodash"), require("react"));
	else if(typeof define === 'function' && define.amd)
		define(["_", "react"], factory);
	else if(typeof exports === 'object')
		exports["storm-react-diagrams"] = factory(require("lodash"), require("react"));
	else
		root["storm-react-diagrams"] = factory(root["_"], root["React"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 21);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJfXCIsXCJyb290XCI6XCJfXCJ9PzZkYzgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJfXCIsXCJyb290XCI6XCJfXCJ9XG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_1__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9P2MwMmYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseModel_1 = __webpack_require__(3);\r\nvar _ = __webpack_require__(0);\r\nvar PointModel = /** @class */ (function (_super) {\r\n    __extends(PointModel, _super);\r\n    function PointModel(link, points) {\r\n        var _this = _super.call(this) || this;\r\n        _this.x = points.x;\r\n        _this.y = points.y;\r\n        _this.link = link;\r\n        return _this;\r\n    }\r\n    PointModel.prototype.getSelectedEntities = function () {\r\n        if (_super.prototype.isSelected.call(this) && !this.isConnectedToPort()) {\r\n            return [this];\r\n        }\r\n        return [];\r\n    };\r\n    PointModel.prototype.isConnectedToPort = function () {\r\n        return this.link.getPortForPoint(this) !== null;\r\n    };\r\n    PointModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.x = ob.x;\r\n        this.y = ob.y;\r\n    };\r\n    PointModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            x: this.x,\r\n            y: this.y\r\n        });\r\n    };\r\n    PointModel.prototype.remove = function () {\r\n        //clear references\r\n        if (this.link) {\r\n            this.link.removePoint(this);\r\n        }\r\n        _super.prototype.remove.call(this);\r\n    };\r\n    PointModel.prototype.updateLocation = function (points) {\r\n        this.x = points.x;\r\n        this.y = points.y;\r\n    };\r\n    PointModel.prototype.getX = function () {\r\n        return this.x;\r\n    };\r\n    PointModel.prototype.getY = function () {\r\n        return this.y;\r\n    };\r\n    PointModel.prototype.getLink = function () {\r\n        return this.link;\r\n    };\r\n    return PointModel;\r\n}(BaseModel_1.BaseModel));\r\nexports.PointModel = PointModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbW9kZWxzL1BvaW50TW9kZWwudHM/MGNiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Jhc2VNb2RlbCwgQmFzZU1vZGVsTGlzdGVuZXJ9IGZyb20gXCIuL0Jhc2VNb2RlbFwiO1xuaW1wb3J0IHtMaW5rTW9kZWx9IGZyb20gXCIuL0xpbmtNb2RlbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmV4cG9ydCBjbGFzcyBQb2ludE1vZGVsIGV4dGVuZHMgQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPiB7XG5cdHg6IG51bWJlcjtcblx0eTogbnVtYmVyO1xuXHRsaW5rOiBMaW5rTW9kZWw7XG5cblx0Y29uc3RydWN0b3IobGluazogTGlua01vZGVsLCBwb2ludHM6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy54ID0gcG9pbnRzLng7XG5cdFx0dGhpcy55ID0gcG9pbnRzLnk7XG5cdFx0dGhpcy5saW5rID0gbGluaztcblx0fVxuXG5cdGdldFNlbGVjdGVkRW50aXRpZXMoKSB7XG5cdFx0aWYgKHN1cGVyLmlzU2VsZWN0ZWQoKSAmJiAhdGhpcy5pc0Nvbm5lY3RlZFRvUG9ydCgpKSB7XG5cdFx0XHRyZXR1cm4gW3RoaXNdO1xuXHRcdH1cblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHRpc0Nvbm5lY3RlZFRvUG9ydCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5saW5rLmdldFBvcnRGb3JQb2ludCh0aGlzKSAhPT0gbnVsbDtcblx0fVxuXG5cdGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMueCA9IG9iLng7XG5cdFx0dGhpcy55ID0gb2IueTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0eDogdGhpcy54LFxuXHRcdFx0eTogdGhpcy55XG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmUoKSB7XG5cdFx0Ly9jbGVhciByZWZlcmVuY2VzXG5cdFx0aWYgKHRoaXMubGluaykge1xuXHRcdFx0dGhpcy5saW5rLnJlbW92ZVBvaW50KHRoaXMpO1xuXHRcdH1cblx0XHRzdXBlci5yZW1vdmUoKTtcblx0fVxuXG5cdHVwZGF0ZUxvY2F0aW9uKHBvaW50czogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9KSB7XG5cdFx0dGhpcy54ID0gcG9pbnRzLng7XG5cdFx0dGhpcy55ID0gcG9pbnRzLnk7XG5cdH1cblxuXHRnZXRYKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMueDtcblx0fVxuXG5cdGdldFkoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy55O1xuXHR9XG5cblx0Z2V0TGluaygpOiBMaW5rTW9kZWwge1xuXHRcdHJldHVybiB0aGlzLmxpbms7XG5cdH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL21vZGVscy9Qb2ludE1vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE1REE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseEntity_1 = __webpack_require__(5);\r\nvar _ = __webpack_require__(0);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar BaseModel = /** @class */ (function (_super) {\r\n    __extends(BaseModel, _super);\r\n    function BaseModel(id) {\r\n        var _this = _super.call(this, id) || this;\r\n        _this.selected = false;\r\n        _this.class = _this.constructor.name;\r\n        return _this;\r\n    }\r\n    BaseModel.prototype.getSelectedEntities = function () {\r\n        if (this.isSelected()) {\r\n            return [this];\r\n        }\r\n        return [];\r\n    };\r\n    BaseModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.selected = ob.selected;\r\n    };\r\n    BaseModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            _class: this.class,\r\n            selected: this.selected\r\n        });\r\n    };\r\n    BaseModel.prototype.getID = function () {\r\n        return this.id;\r\n    };\r\n    BaseModel.prototype.isSelected = function () {\r\n        return this.selected;\r\n    };\r\n    BaseModel.prototype.setSelected = function (selected) {\r\n        if (selected === void 0) { selected = true; }\r\n        this.selected = selected;\r\n        this.iterateListeners(function (listener, event) {\r\n            if (listener.selectionChanged) {\r\n                listener.selectionChanged(__assign({}, event, { isSelected: selected }));\r\n            }\r\n        });\r\n    };\r\n    BaseModel.prototype.remove = function () {\r\n        this.iterateListeners(function (listener, event) {\r\n            if (listener.entityRemoved) {\r\n                listener.entityRemoved(event);\r\n            }\r\n        });\r\n    };\r\n    return BaseModel;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.BaseModel = BaseModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbW9kZWxzL0Jhc2VNb2RlbC50cz9iODc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VFbnRpdHksIEJhc2VMaXN0ZW5lciB9IGZyb20gXCIuLi9CYXNlRW50aXR5XCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7QmFzZUV2ZW50fSBmcm9tIFwiLi4vQmFzZUVudGl0eVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VNb2RlbExpc3RlbmVyIGV4dGVuZHMgQmFzZUxpc3RlbmVyIHtcblxuXHRzZWxlY3Rpb25DaGFuZ2VkPyhldmVudDogQmFzZUV2ZW50ICYge2lzU2VsZWN0ZWQ6IGJvb2xlYW59KTogdm9pZDtcblxuXHRlbnRpdHlSZW1vdmVkPyhldmVudDogQmFzZUV2ZW50KTogdm9pZDtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VNb2RlbDxUIGV4dGVuZHMgQmFzZU1vZGVsTGlzdGVuZXI+IGV4dGVuZHMgQmFzZUVudGl0eTxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXG5cdHNlbGVjdGVkOiBib29sZWFuO1xuXHRjbGFzczogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKGlkPzogc3RyaW5nKSB7XG5cdFx0c3VwZXIoaWQpO1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmNsYXNzID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuXHR9XG5cblx0cHVibGljIGdldFNlbGVjdGVkRW50aXRpZXMoKTogQmFzZU1vZGVsPFQ+W10ge1xuXHRcdGlmICh0aGlzLmlzU2VsZWN0ZWQoKSkge1xuXHRcdFx0cmV0dXJuIFt0aGlzXTtcblx0XHR9XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0cHVibGljIGRlU2VyaWFsaXplKG9iKSB7XG5cdFx0c3VwZXIuZGVTZXJpYWxpemUob2IpO1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBvYi5zZWxlY3RlZDtcblx0fVxuXG5cdHB1YmxpYyBzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2Uoc3VwZXIuc2VyaWFsaXplKCksIHtcblx0XHRcdF9jbGFzczogdGhpcy5jbGFzcyxcblx0XHRcdHNlbGVjdGVkOiB0aGlzLnNlbGVjdGVkXG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0SUQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5pZDtcblx0fVxuXG5cdHB1YmxpYyBpc1NlbGVjdGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnNlbGVjdGVkO1xuXHR9XG5cblx0cHVibGljIHNldFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuID0gdHJ1ZSkge1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3RlbmVyLCBldmVudCkgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLnNlbGVjdGlvbkNoYW5nZWQpIHtcblx0XHRcdFx0bGlzdGVuZXIuc2VsZWN0aW9uQ2hhbmdlZCh7Li4uZXZlbnQsIGlzU2VsZWN0ZWQ6IHNlbGVjdGVkfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVtb3ZlKCkge1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycygobGlzdGVuZXIsIGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIuZW50aXR5UmVtb3ZlZCkge1xuXHRcdFx0XHRsaXN0ZW5lci5lbnRpdHlSZW1vdmVkKGV2ZW50KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tb2RlbHMvQmFzZU1vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBdERBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseModel_1 = __webpack_require__(3);\r\nvar _ = __webpack_require__(0);\r\nvar NodeModel = /** @class */ (function (_super) {\r\n    __extends(NodeModel, _super);\r\n    function NodeModel(nodeType, id) {\r\n        if (nodeType === void 0) { nodeType = \"default\"; }\r\n        var _this = _super.call(this, id) || this;\r\n        _this.nodeType = nodeType;\r\n        _this.x = 0;\r\n        _this.y = 0;\r\n        _this.extras = {};\r\n        _this.ports = {};\r\n        return _this;\r\n    }\r\n    NodeModel.prototype.setPosition = function (x, y) {\r\n        var _this = this;\r\n        //store position\r\n        var oldX = this.x;\r\n        var oldY = this.y;\r\n        var _loop_1 = function (port) {\r\n            _.forEach(this_1.ports[port].getLinks(), function (link) {\r\n                var point = link.getPointForPort(_this.ports[port]);\r\n                point.x = point.x + x - oldX;\r\n                point.y = point.y + y - oldY;\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var port in this.ports) {\r\n            _loop_1(port);\r\n        }\r\n        this.x = x;\r\n        this.y = y;\r\n    };\r\n    NodeModel.prototype.getSelectedEntities = function () {\r\n        var _this = this;\r\n        var entities = _super.prototype.getSelectedEntities.call(this);\r\n        // add the points of each link that are selected here\r\n        if (this.isSelected()) {\r\n            var _loop_2 = function (portName) {\r\n                entities = entities.concat(_.map(this_2.ports[portName].getLinks(), function (link) {\r\n                    return link.getPointForPort(_this.ports[portName]);\r\n                }));\r\n            };\r\n            var this_2 = this;\r\n            for (var portName in this.ports) {\r\n                _loop_2(portName);\r\n            }\r\n        }\r\n        return entities;\r\n    };\r\n    NodeModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.nodeType = ob.type;\r\n        this.x = ob.x;\r\n        this.y = ob.y;\r\n        this.extras = ob.extras;\r\n    };\r\n    NodeModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            type: this.nodeType,\r\n            x: this.x,\r\n            y: this.y,\r\n            extras: this.extras,\r\n            ports: _.map(this.ports, function (port) {\r\n                return port.serialize();\r\n            })\r\n        });\r\n    };\r\n    NodeModel.prototype.remove = function () {\r\n        _super.prototype.remove.call(this);\r\n        for (var i in this.ports) {\r\n            _.forEach(this.ports[i].getLinks(), function (link) {\r\n                link.remove();\r\n            });\r\n        }\r\n    };\r\n    NodeModel.prototype.getPortFromID = function (id) {\r\n        for (var i in this.ports) {\r\n            if (this.ports[i].id === id) {\r\n                return this.ports[i];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    NodeModel.prototype.getPort = function (name) {\r\n        return this.ports[name];\r\n    };\r\n    NodeModel.prototype.getPorts = function () {\r\n        return this.ports;\r\n    };\r\n    NodeModel.prototype.removePort = function (port) {\r\n        //clear the parent node reference\r\n        if (this.ports[port.name]) {\r\n            this.ports[port.name].setParentNode(null);\r\n            delete this.ports[port.name];\r\n        }\r\n    };\r\n    NodeModel.prototype.addPort = function (port) {\r\n        port.setParentNode(this);\r\n        this.ports[port.name] = port;\r\n        return port;\r\n    };\r\n    NodeModel.prototype.getType = function () {\r\n        return this.nodeType;\r\n    };\r\n    return NodeModel;\r\n}(BaseModel_1.BaseModel));\r\nexports.NodeModel = NodeModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbW9kZWxzL05vZGVNb2RlbC50cz9iMDIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFzZU1vZGVsLCBCYXNlTW9kZWxMaXN0ZW5lcn0gZnJvbSBcIi4vQmFzZU1vZGVsXCI7XG5pbXBvcnQge1BvcnRNb2RlbH0gZnJvbSBcIi4vUG9ydE1vZGVsXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcblxuZXhwb3J0IGNsYXNzIE5vZGVNb2RlbCBleHRlbmRzIEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXHRub2RlVHlwZTogc3RyaW5nO1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcblx0ZXh0cmFzOiB7fTtcblx0cG9ydHM6IHsgW3M6IHN0cmluZ106IFBvcnRNb2RlbCB9O1xuXG5cdGNvbnN0cnVjdG9yKG5vZGVUeXBlOiBzdHJpbmcgPSBcImRlZmF1bHRcIiwgaWQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihpZCk7XG5cdFx0dGhpcy5ub2RlVHlwZSA9IG5vZGVUeXBlO1xuXHRcdHRoaXMueCA9IDA7XG5cdFx0dGhpcy55ID0gMDtcblx0XHR0aGlzLmV4dHJhcyA9IHt9O1xuXHRcdHRoaXMucG9ydHMgPSB7fTtcblx0fVxuXG5cdHNldFBvc2l0aW9uKHgsIHkpe1xuXHRcdC8vc3RvcmUgcG9zaXRpb25cblx0XHRsZXQgb2xkWCA9IHRoaXMueDtcblx0XHRsZXQgb2xkWSA9IHRoaXMueTtcblxuXHRcdGZvcihsZXQgcG9ydCBpbiB0aGlzLnBvcnRzKXtcblx0XHRcdF8uZm9yRWFjaCh0aGlzLnBvcnRzW3BvcnRdLmdldExpbmtzKCksIChsaW5rKSA9PiB7XG5cdFx0XHRcdGxldCBwb2ludCA9IGxpbmsuZ2V0UG9pbnRGb3JQb3J0KHRoaXMucG9ydHNbcG9ydF0pO1xuXHRcdFx0XHRwb2ludC54ID0gcG9pbnQueCArIHggLSBvbGRYO1xuXHRcdFx0XHRwb2ludC55ID0gcG9pbnQueSArIHkgLSBvbGRZO1xuXHRcdFx0fSlcblx0XHR9XG5cblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdH1cblxuXHRnZXRTZWxlY3RlZEVudGl0aWVzKCkge1xuXHRcdGxldCBlbnRpdGllcyA9IHN1cGVyLmdldFNlbGVjdGVkRW50aXRpZXMoKTtcblxuXHRcdC8vIGFkZCB0aGUgcG9pbnRzIG9mIGVhY2ggbGluayB0aGF0IGFyZSBzZWxlY3RlZCBoZXJlXG5cdFx0aWYgKHRoaXMuaXNTZWxlY3RlZCgpKSB7XG5cdFx0XHRmb3IgKGxldCBwb3J0TmFtZSBpbiB0aGlzLnBvcnRzKSB7XG5cdFx0XHRcdGVudGl0aWVzID0gZW50aXRpZXMuY29uY2F0KFxuXHRcdFx0XHRcdF8ubWFwKHRoaXMucG9ydHNbcG9ydE5hbWVdLmdldExpbmtzKCksIGxpbmsgPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGxpbmsuZ2V0UG9pbnRGb3JQb3J0KHRoaXMucG9ydHNbcG9ydE5hbWVdKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZW50aXRpZXM7XG5cdH1cblxuXHRkZVNlcmlhbGl6ZShvYikge1xuXHRcdHN1cGVyLmRlU2VyaWFsaXplKG9iKTtcblx0XHR0aGlzLm5vZGVUeXBlID0gb2IudHlwZTtcblx0XHR0aGlzLnggPSBvYi54O1xuXHRcdHRoaXMueSA9IG9iLnk7XG5cdFx0dGhpcy5leHRyYXMgPSBvYi5leHRyYXM7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2Uoc3VwZXIuc2VyaWFsaXplKCksIHtcblx0XHRcdHR5cGU6IHRoaXMubm9kZVR5cGUsXG5cdFx0XHR4OiB0aGlzLngsXG5cdFx0XHR5OiB0aGlzLnksXG5cdFx0XHRleHRyYXM6IHRoaXMuZXh0cmFzLFxuXHRcdFx0cG9ydHM6IF8ubWFwKHRoaXMucG9ydHMsIHBvcnQgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcG9ydC5zZXJpYWxpemUoKTtcblx0XHRcdH0pXG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmUoKSB7XG5cdFx0c3VwZXIucmVtb3ZlKCk7XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLnBvcnRzKSB7XG5cdFx0XHRfLmZvckVhY2godGhpcy5wb3J0c1tpXS5nZXRMaW5rcygpLCBsaW5rID0+IHtcblx0XHRcdFx0bGluay5yZW1vdmUoKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGdldFBvcnRGcm9tSUQoaWQpOiBQb3J0TW9kZWwgfCBudWxsIHtcblx0XHRmb3IgKHZhciBpIGluIHRoaXMucG9ydHMpIHtcblx0XHRcdGlmICh0aGlzLnBvcnRzW2ldLmlkID09PSBpZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wb3J0c1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRnZXRQb3J0KG5hbWU6IHN0cmluZyk6IFBvcnRNb2RlbCB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLnBvcnRzW25hbWVdO1xuXHR9XG5cblx0Z2V0UG9ydHMoKTogeyBbczogc3RyaW5nXTogUG9ydE1vZGVsIH0ge1xuXHRcdHJldHVybiB0aGlzLnBvcnRzO1xuXHR9XG5cblx0cmVtb3ZlUG9ydChwb3J0OiBQb3J0TW9kZWwpIHtcblx0XHQvL2NsZWFyIHRoZSBwYXJlbnQgbm9kZSByZWZlcmVuY2Vcblx0XHRpZiAodGhpcy5wb3J0c1twb3J0Lm5hbWVdKSB7XG5cdFx0XHR0aGlzLnBvcnRzW3BvcnQubmFtZV0uc2V0UGFyZW50Tm9kZShudWxsKTtcblx0XHRcdGRlbGV0ZSB0aGlzLnBvcnRzW3BvcnQubmFtZV07XG5cdFx0fVxuXHR9XG5cblx0YWRkUG9ydChwb3J0OiBQb3J0TW9kZWwpOiBQb3J0TW9kZWwge1xuXHRcdHBvcnQuc2V0UGFyZW50Tm9kZSh0aGlzKTtcblx0XHR0aGlzLnBvcnRzW3BvcnQubmFtZV0gPSBwb3J0O1xuXHRcdHJldHVybiBwb3J0O1xuXHR9XG5cblx0Z2V0VHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLm5vZGVUeXBlO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL21vZGVscy9Ob2RlTW9kZWwudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFOQTtBQUFBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFOQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFoSEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Toolkit_1 = __webpack_require__(10);\r\nvar BaseEntity = /** @class */ (function () {\r\n    function BaseEntity(id) {\r\n        this.listeners = {};\r\n        this.id = id || Toolkit_1.Toolkit.UID();\r\n        this.locked = false;\r\n    }\r\n    BaseEntity.prototype.getID = function () {\r\n        return this.id;\r\n    };\r\n    BaseEntity.prototype.clearListeners = function () {\r\n        this.listeners = {};\r\n    };\r\n    BaseEntity.prototype.deSerialize = function (data) {\r\n        this.id = data.id;\r\n    };\r\n    BaseEntity.prototype.serialize = function () {\r\n        return {\r\n            id: this.id\r\n        };\r\n    };\r\n    BaseEntity.prototype.iterateListeners = function (cb) {\r\n        var event = {\r\n            id: Toolkit_1.Toolkit.UID(),\r\n            firing: true,\r\n            entity: this,\r\n            stopPropagation: function () {\r\n                event.firing = false;\r\n            }\r\n        };\r\n        for (var i in this.listeners) {\r\n            // propagation stopped\r\n            if (!event.firing) {\r\n                return;\r\n            }\r\n            cb(this.listeners[i], event);\r\n        }\r\n    };\r\n    BaseEntity.prototype.removeListener = function (listener) {\r\n        if (this.listeners[listener]) {\r\n            delete this.listeners[listener];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    BaseEntity.prototype.addListener = function (listener) {\r\n        var uid = Toolkit_1.Toolkit.UID();\r\n        this.listeners[uid] = listener;\r\n        return uid;\r\n    };\r\n    BaseEntity.prototype.isLocked = function () {\r\n        return this.locked;\r\n    };\r\n    BaseEntity.prototype.setLocked = function (locked) {\r\n        if (locked === void 0) { locked = true; }\r\n        this.locked = locked;\r\n        this.iterateListeners(function (listener, event) {\r\n            if (listener.lockChanged) {\r\n                listener.lockChanged(__assign({}, event, { locked: locked }));\r\n            }\r\n        });\r\n    };\r\n    return BaseEntity;\r\n}());\r\nexports.BaseEntity = BaseEntity;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQmFzZUVudGl0eS50cz8zOTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvb2xraXQgfSBmcm9tIFwiLi9Ub29sa2l0XCI7XG5cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYXNlRXZlbnQ8VCBleHRlbmRzIEJhc2VFbnRpdHkgPSBhbnk+IHtcblx0ZW50aXR5OiBCYXNlRW50aXR5PEJhc2VMaXN0ZW5lcj47XG5cdHN0b3BQcm9wYWdhdGlvbjogKCkgPT4gYW55O1xuXHRmaXJpbmc6IGJvb2xlYW47XG5cdGlkOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlTGlzdGVuZXI8VCBleHRlbmRzIEJhc2VFbnRpdHkgPSBhbnk+IHtcblxuXHRsb2NrQ2hhbmdlZD8oZXZlbnQ6IEJhc2VFdmVudDxUPiAmIHtsb2NrZWQ6IGJvb2xlYW59ICk6IHZvaWQ7XG5cbn1cblxuZXhwb3J0IGNsYXNzIEJhc2VFbnRpdHk8VCBleHRlbmRzIEJhc2VMaXN0ZW5lciA9IHt9PiB7XG5cdHB1YmxpYyBsaXN0ZW5lcnM6IHsgW3M6IHN0cmluZ106IFQgfTtcblx0cHVibGljIGlkOiBzdHJpbmc7XG5cdHB1YmxpYyBsb2NrZWQ6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IoaWQ/OiBzdHJpbmcpIHtcblx0XHR0aGlzLmxpc3RlbmVycyA9IHt9O1xuXHRcdHRoaXMuaWQgPSBpZCB8fCBUb29sa2l0LlVJRCgpO1xuXHRcdHRoaXMubG9ja2VkID0gZmFsc2U7XG5cdH1cblxuXHRnZXRJRCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pZDtcblx0fVxuXG5cdGNsZWFyTGlzdGVuZXJzKCkge1xuXHRcdHRoaXMubGlzdGVuZXJzID0ge307XG5cdH1cblxuXHRwdWJsaWMgZGVTZXJpYWxpemUoZGF0YSkge1xuXHRcdHRoaXMuaWQgPSBkYXRhLmlkO1xuXHR9XG5cblx0cHVibGljIHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IHRoaXMuaWRcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIGl0ZXJhdGVMaXN0ZW5lcnMoY2I6ICh0OiBULCBldmVudDogQmFzZUV2ZW50KSA9PiBhbnkpIHtcblx0XHRsZXQgZXZlbnQ6IEJhc2VFdmVudCA9IHtcblx0XHRcdGlkOiBUb29sa2l0LlVJRCgpLFxuXHRcdFx0ZmlyaW5nOiB0cnVlLFxuXHRcdFx0ZW50aXR5OiB0aGlzLFxuXHRcdFx0c3RvcFByb3BhZ2F0aW9uOiAoKSA9PiB7XG5cdFx0XHRcdGV2ZW50LmZpcmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Zm9yICh2YXIgaSBpbiB0aGlzLmxpc3RlbmVycykge1xuXHRcdFx0Ly8gcHJvcGFnYXRpb24gc3RvcHBlZFxuXHRcdFx0aWYoIWV2ZW50LmZpcmluZyl7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNiKHRoaXMubGlzdGVuZXJzW2ldLCBldmVudCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyOiBzdHJpbmcpIHtcblx0XHRpZiAodGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogVCk6IHN0cmluZyB7XG5cdFx0dmFyIHVpZCA9IFRvb2xraXQuVUlEKCk7XG5cdFx0dGhpcy5saXN0ZW5lcnNbdWlkXSA9IGxpc3RlbmVyO1xuXHRcdHJldHVybiB1aWQ7XG5cdH1cblxuXHRwdWJsaWMgaXNMb2NrZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMubG9ja2VkO1xuXHR9XG5cblx0cHVibGljIHNldExvY2tlZChsb2NrZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0dGhpcy5sb2NrZWQgPSBsb2NrZWQ7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKChsaXN0ZW5lciwgZXZlbnQpID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5sb2NrQ2hhbmdlZCkge1xuXHRcdFx0XHRsaXN0ZW5lci5sb2NrQ2hhbmdlZCh7Li4uZXZlbnQsIGxvY2tlZDogbG9ja2VkfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvQmFzZUVudGl0eS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBb0JBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXpFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar AbstractInstanceFactory = /** @class */ (function () {\r\n    function AbstractInstanceFactory(className) {\r\n        this.className = className;\r\n    }\r\n    AbstractInstanceFactory.prototype.getName = function () {\r\n        return this.className;\r\n    };\r\n    return AbstractInstanceFactory;\r\n}());\r\nexports.AbstractInstanceFactory = AbstractInstanceFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkudHM/ZmU2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlRW50aXR5LCBCYXNlTGlzdGVuZXIgfSBmcm9tIFwiLi9CYXNlRW50aXR5XCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8VCBleHRlbmRzIEJhc2VFbnRpdHk8QmFzZUxpc3RlbmVyPj4ge1xuXHRjbGFzc05hbWU6IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihjbGFzc05hbWU6IHN0cmluZykge1xuXHRcdHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXHR9XG5cblx0Z2V0TmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzc05hbWU7XG5cdH1cblxuXHRhYnN0cmFjdCBnZXRJbnN0YW5jZShpbml0aWFsQ29uZmlnPzogYW55KTogVDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFaQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseModel_1 = __webpack_require__(3);\r\nvar _ = __webpack_require__(0);\r\nvar PortModel = /** @class */ (function (_super) {\r\n    __extends(PortModel, _super);\r\n    function PortModel(name, id) {\r\n        var _this = _super.call(this, id) || this;\r\n        _this.name = name;\r\n        _this.links = {};\r\n        _this.parentNode = null;\r\n        return _this;\r\n    }\r\n    PortModel.prototype.deSerialize = function (ob) {\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.name = ob.name;\r\n    };\r\n    PortModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            name: this.name,\r\n            parentNode: this.parentNode.id,\r\n            links: _.map(this.links, function (link) {\r\n                return link.id;\r\n            })\r\n        });\r\n    };\r\n    PortModel.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    PortModel.prototype.getParent = function () {\r\n        return this.parentNode;\r\n    };\r\n    PortModel.prototype.setParentNode = function (node) {\r\n        this.parentNode = node;\r\n    };\r\n    PortModel.prototype.removeLink = function (link) {\r\n        delete this.links[link.getID()];\r\n    };\r\n    PortModel.prototype.addLink = function (link) {\r\n        this.links[link.getID()] = link;\r\n    };\r\n    PortModel.prototype.getLinks = function () {\r\n        return this.links;\r\n    };\r\n    return PortModel;\r\n}(BaseModel_1.BaseModel));\r\nexports.PortModel = PortModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbW9kZWxzL1BvcnRNb2RlbC50cz8wZDVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFzZU1vZGVsLCBCYXNlTW9kZWxMaXN0ZW5lcn0gZnJvbSBcIi4vQmFzZU1vZGVsXCI7XG5pbXBvcnQge05vZGVNb2RlbH0gZnJvbSBcIi4vTm9kZU1vZGVsXCI7XG5pbXBvcnQge0xpbmtNb2RlbH0gZnJvbSBcIi4vTGlua01vZGVsXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcblxuZXhwb3J0IGNsYXNzIFBvcnRNb2RlbCBleHRlbmRzIEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj4ge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHBhcmVudE5vZGU6IE5vZGVNb2RlbDtcblx0bGlua3M6IHsgW2lkOiBzdHJpbmddOiBMaW5rTW9kZWwgfTtcblxuXHRkZVNlcmlhbGl6ZShvYikge1xuXHRcdHN1cGVyLmRlU2VyaWFsaXplKG9iKTtcblx0XHR0aGlzLm5hbWUgPSBvYi5uYW1lO1xuXHR9XG5cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiBfLm1lcmdlKHN1cGVyLnNlcmlhbGl6ZSgpLCB7XG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRwYXJlbnROb2RlOiB0aGlzLnBhcmVudE5vZGUuaWQsXG5cdFx0XHRsaW5rczogXy5tYXAodGhpcy5saW5rcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLmlkO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihpZCk7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmxpbmtzID0ge307XG5cdFx0dGhpcy5wYXJlbnROb2RlID0gbnVsbDtcblx0fVxuXG5cdGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cblx0Z2V0UGFyZW50KCk6IE5vZGVNb2RlbCB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50Tm9kZTtcblx0fVxuXG5cdHNldFBhcmVudE5vZGUobm9kZTogTm9kZU1vZGVsKSB7XG5cdFx0dGhpcy5wYXJlbnROb2RlID0gbm9kZTtcblx0fVxuXG5cdHJlbW92ZUxpbmsobGluazogTGlua01vZGVsKSB7XG5cdFx0ZGVsZXRlIHRoaXMubGlua3NbbGluay5nZXRJRCgpXTtcblx0fVxuXG5cdGFkZExpbmsobGluazogTGlua01vZGVsKSB7XG5cdFx0dGhpcy5saW5rc1tsaW5rLmdldElEKCldID0gbGluaztcblx0fVxuXG5cdGdldExpbmtzKCk6IHsgW2lkOiBzdHJpbmddOiBMaW5rTW9kZWwgfSB7XG5cdFx0cmV0dXJuIHRoaXMubGlua3M7XG5cdH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL21vZGVscy9Qb3J0TW9kZWwudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFFQTtBQUFBO0FBb0JBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFwQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBbERBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseModel_1 = __webpack_require__(3);\r\nvar PointModel_1 = __webpack_require__(2);\r\nvar _ = __webpack_require__(0);\r\nvar LinkModel = /** @class */ (function (_super) {\r\n    __extends(LinkModel, _super);\r\n    function LinkModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.linkType = \"default\";\r\n        _this.points = [new PointModel_1.PointModel(_this, { x: 0, y: 0 }), new PointModel_1.PointModel(_this, { x: 0, y: 0 })];\r\n        _this.extras = {};\r\n        _this.sourcePort = null;\r\n        _this.targetPort = null;\r\n        return _this;\r\n    }\r\n    LinkModel.prototype.deSerialize = function (ob) {\r\n        var _this = this;\r\n        _super.prototype.deSerialize.call(this, ob);\r\n        this.linkType = ob.type;\r\n        this.extras = ob.extras;\r\n        this.points = _.map(ob.points, function (point) {\r\n            var p = new PointModel_1.PointModel(_this, { x: point.x, y: point.y });\r\n            p.deSerialize(point);\r\n            return p;\r\n        });\r\n    };\r\n    LinkModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            type: this.linkType,\r\n            source: this.sourcePort ? this.sourcePort.getParent().id : null,\r\n            sourcePort: this.sourcePort ? this.sourcePort.id : null,\r\n            target: this.targetPort ? this.targetPort.getParent().id : null,\r\n            targetPort: this.targetPort ? this.targetPort.id : null,\r\n            points: _.map(this.points, function (point) {\r\n                return point.serialize();\r\n            }),\r\n            extras: this.extras\r\n        });\r\n    };\r\n    LinkModel.prototype.remove = function () {\r\n        if (this.sourcePort) {\r\n            this.sourcePort.removeLink(this);\r\n        }\r\n        if (this.targetPort) {\r\n            this.targetPort.removeLink(this);\r\n        }\r\n        _super.prototype.remove.call(this);\r\n    };\r\n    LinkModel.prototype.isLastPoint = function (point) {\r\n        var index = this.getPointIndex(point);\r\n        return index === this.points.length - 1;\r\n    };\r\n    LinkModel.prototype.getPointIndex = function (point) {\r\n        return this.points.indexOf(point);\r\n    };\r\n    LinkModel.prototype.getPointModel = function (id) {\r\n        for (var i = 0; i < this.points.length; i++) {\r\n            if (this.points[i].id === id) {\r\n                return this.points[i];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getPortForPoint = function (point) {\r\n        if (this.sourcePort !== null && this.getFirstPoint().getID() === point.getID()) {\r\n            return this.sourcePort;\r\n        }\r\n        if (this.targetPort !== null && this.getLastPoint().getID() === point.getID()) {\r\n            return this.targetPort;\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getPointForPort = function (port) {\r\n        if (this.sourcePort !== null && this.sourcePort.getID() === port.getID()) {\r\n            return this.getFirstPoint();\r\n        }\r\n        if (this.targetPort !== null && this.targetPort.getID() === port.getID()) {\r\n            return this.getLastPoint();\r\n        }\r\n        return null;\r\n    };\r\n    LinkModel.prototype.getFirstPoint = function () {\r\n        return this.points[0];\r\n    };\r\n    LinkModel.prototype.getLastPoint = function () {\r\n        return this.points[this.points.length - 1];\r\n    };\r\n    LinkModel.prototype.setSourcePort = function (port) {\r\n        var _this = this;\r\n        port.addLink(this);\r\n        this.sourcePort = port;\r\n        this.iterateListeners(function (listener) {\r\n            listener.sourcePortChanged && listener.sourcePortChanged(_this, port);\r\n        });\r\n    };\r\n    LinkModel.prototype.getSourcePort = function () {\r\n        return this.sourcePort;\r\n    };\r\n    LinkModel.prototype.getTargetPort = function () {\r\n        return this.targetPort;\r\n    };\r\n    LinkModel.prototype.setTargetPort = function (port) {\r\n        var _this = this;\r\n        port.addLink(this);\r\n        this.targetPort = port;\r\n        this.iterateListeners(function (listener) {\r\n            listener.targetPortChanged && listener.targetPortChanged(_this, port);\r\n        });\r\n    };\r\n    LinkModel.prototype.getPoints = function () {\r\n        return this.points;\r\n    };\r\n    LinkModel.prototype.setPoints = function (points) {\r\n        this.points = points;\r\n    };\r\n    LinkModel.prototype.removePoint = function (pointModel) {\r\n        this.points.splice(this.getPointIndex(pointModel), 1);\r\n    };\r\n    LinkModel.prototype.addPoint = function (pointModel, index) {\r\n        if (index === void 0) { index = 1; }\r\n        this.points.splice(index, 0, pointModel);\r\n    };\r\n    LinkModel.prototype.getType = function () {\r\n        return this.linkType;\r\n    };\r\n    return LinkModel;\r\n}(BaseModel_1.BaseModel));\r\nexports.LinkModel = LinkModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbW9kZWxzL0xpbmtNb2RlbC50cz8zOGM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFzZU1vZGVsLCBCYXNlTW9kZWxMaXN0ZW5lcn0gZnJvbSBcIi4vQmFzZU1vZGVsXCI7XG5pbXBvcnQge1BvcnRNb2RlbH0gZnJvbSBcIi4vUG9ydE1vZGVsXCI7XG5pbXBvcnQge1BvaW50TW9kZWx9IGZyb20gXCIuL1BvaW50TW9kZWxcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtNb2RlbExpc3RlbmVyIGV4dGVuZHMgQmFzZU1vZGVsTGlzdGVuZXIge1xuXHRzb3VyY2VQb3J0Q2hhbmdlZD8oaXRlbTogTGlua01vZGVsLCB0YXJnZXQ6IG51bGwgfCBQb3J0TW9kZWwpOiB2b2lkO1xuXG5cdHRhcmdldFBvcnRDaGFuZ2VkPyhpdGVtOiBMaW5rTW9kZWwsIHRhcmdldDogbnVsbCB8IFBvcnRNb2RlbCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rTW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWw8TGlua01vZGVsTGlzdGVuZXI+IHtcblx0bGlua1R5cGU6IHN0cmluZztcblx0c291cmNlUG9ydDogUG9ydE1vZGVsIHwgbnVsbDtcblx0dGFyZ2V0UG9ydDogUG9ydE1vZGVsIHwgbnVsbDtcblx0cG9pbnRzOiBQb2ludE1vZGVsW107XG5cdGV4dHJhczoge307XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmxpbmtUeXBlID0gXCJkZWZhdWx0XCI7XG5cdFx0dGhpcy5wb2ludHMgPSBbbmV3IFBvaW50TW9kZWwodGhpcywgeyB4OiAwLCB5OiAwIH0pLCBuZXcgUG9pbnRNb2RlbCh0aGlzLCB7IHg6IDAsIHk6IDAgfSldO1xuXHRcdHRoaXMuZXh0cmFzID0ge307XG5cdFx0dGhpcy5zb3VyY2VQb3J0ID0gbnVsbDtcblx0XHR0aGlzLnRhcmdldFBvcnQgPSBudWxsO1xuXHR9XG5cblx0ZGVTZXJpYWxpemUob2IpIHtcblx0XHRzdXBlci5kZVNlcmlhbGl6ZShvYik7XG5cdFx0dGhpcy5saW5rVHlwZSA9IG9iLnR5cGU7XG5cdFx0dGhpcy5leHRyYXMgPSBvYi5leHRyYXM7XG5cdFx0dGhpcy5wb2ludHMgPSBfLm1hcChvYi5wb2ludHMsIChwb2ludDogeyB4OyB5IH0pID0+IHtcblx0XHRcdHZhciBwID0gbmV3IFBvaW50TW9kZWwodGhpcywgeyB4OiBwb2ludC54LCB5OiBwb2ludC55IH0pO1xuXHRcdFx0cC5kZVNlcmlhbGl6ZShwb2ludCk7XG5cdFx0XHRyZXR1cm4gcDtcblx0XHR9KTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0dHlwZTogdGhpcy5saW5rVHlwZSxcblx0XHRcdHNvdXJjZTogdGhpcy5zb3VyY2VQb3J0ID8gdGhpcy5zb3VyY2VQb3J0LmdldFBhcmVudCgpLmlkIDogbnVsbCxcblx0XHRcdHNvdXJjZVBvcnQ6IHRoaXMuc291cmNlUG9ydCA/IHRoaXMuc291cmNlUG9ydC5pZCA6IG51bGwsXG5cdFx0XHR0YXJnZXQ6IHRoaXMudGFyZ2V0UG9ydCA/IHRoaXMudGFyZ2V0UG9ydC5nZXRQYXJlbnQoKS5pZCA6IG51bGwsXG5cdFx0XHR0YXJnZXRQb3J0OiB0aGlzLnRhcmdldFBvcnQgPyB0aGlzLnRhcmdldFBvcnQuaWQgOiBudWxsLFxuXHRcdFx0cG9pbnRzOiBfLm1hcCh0aGlzLnBvaW50cywgcG9pbnQgPT4ge1xuXHRcdFx0XHRyZXR1cm4gcG9pbnQuc2VyaWFsaXplKCk7XG5cdFx0XHR9KSxcblx0XHRcdGV4dHJhczogdGhpcy5leHRyYXNcblx0XHR9KTtcblx0fVxuXG5cdHJlbW92ZSgpIHtcblx0XHRpZiAodGhpcy5zb3VyY2VQb3J0KSB7XG5cdFx0XHR0aGlzLnNvdXJjZVBvcnQucmVtb3ZlTGluayh0aGlzKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMudGFyZ2V0UG9ydCkge1xuXHRcdFx0dGhpcy50YXJnZXRQb3J0LnJlbW92ZUxpbmsodGhpcyk7XG5cdFx0fVxuXHRcdHN1cGVyLnJlbW92ZSgpO1xuXHR9XG5cblx0aXNMYXN0UG9pbnQocG9pbnQ6IFBvaW50TW9kZWwpIHtcblx0XHR2YXIgaW5kZXggPSB0aGlzLmdldFBvaW50SW5kZXgocG9pbnQpO1xuXHRcdHJldHVybiBpbmRleCA9PT0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMTtcblx0fVxuXG5cdGdldFBvaW50SW5kZXgocG9pbnQ6IFBvaW50TW9kZWwpIHtcblx0XHRyZXR1cm4gdGhpcy5wb2ludHMuaW5kZXhPZihwb2ludCk7XG5cdH1cblxuXHRnZXRQb2ludE1vZGVsKGlkOiBzdHJpbmcpOiBQb2ludE1vZGVsIHwgbnVsbCB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHRoaXMucG9pbnRzW2ldLmlkID09PSBpZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5wb2ludHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Z2V0UG9ydEZvclBvaW50KHBvaW50OiBQb2ludE1vZGVsKTogUG9ydE1vZGVsIHtcblx0XHRpZiAodGhpcy5zb3VyY2VQb3J0ICE9PSBudWxsICYmIHRoaXMuZ2V0Rmlyc3RQb2ludCgpLmdldElEKCkgPT09IHBvaW50LmdldElEKCkpIHtcblx0XHRcdHJldHVybiB0aGlzLnNvdXJjZVBvcnQ7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnRhcmdldFBvcnQgIT09IG51bGwgJiYgdGhpcy5nZXRMYXN0UG9pbnQoKS5nZXRJRCgpID09PSBwb2ludC5nZXRJRCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50YXJnZXRQb3J0O1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdldFBvaW50Rm9yUG9ydChwb3J0OiBQb3J0TW9kZWwpOiBQb2ludE1vZGVsIHtcblx0XHRpZiAodGhpcy5zb3VyY2VQb3J0ICE9PSBudWxsICYmIHRoaXMuc291cmNlUG9ydC5nZXRJRCgpID09PSBwb3J0LmdldElEKCkpIHtcblx0XHRcdHJldHVybiB0aGlzLmdldEZpcnN0UG9pbnQoKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMudGFyZ2V0UG9ydCAhPT0gbnVsbCAmJiB0aGlzLnRhcmdldFBvcnQuZ2V0SUQoKSA9PT0gcG9ydC5nZXRJRCgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRMYXN0UG9pbnQoKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRnZXRGaXJzdFBvaW50KCk6IFBvaW50TW9kZWwge1xuXHRcdHJldHVybiB0aGlzLnBvaW50c1swXTtcblx0fVxuXG5cdGdldExhc3RQb2ludCgpOiBQb2ludE1vZGVsIHtcblx0XHRyZXR1cm4gdGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoIC0gMV07XG5cdH1cblxuXHRzZXRTb3VyY2VQb3J0KHBvcnQ6IFBvcnRNb2RlbCkge1xuXHRcdHBvcnQuYWRkTGluayh0aGlzKTtcblx0XHR0aGlzLnNvdXJjZVBvcnQgPSBwb3J0O1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycygobGlzdGVuZXI6IExpbmtNb2RlbExpc3RlbmVyKSA9PiB7XG5cdFx0XHRsaXN0ZW5lci5zb3VyY2VQb3J0Q2hhbmdlZCAmJiBsaXN0ZW5lci5zb3VyY2VQb3J0Q2hhbmdlZCh0aGlzLCBwb3J0KTtcblx0XHR9KTtcblx0fVxuXG5cdGdldFNvdXJjZVBvcnQoKTogUG9ydE1vZGVsIHtcblx0XHRyZXR1cm4gdGhpcy5zb3VyY2VQb3J0O1xuXHR9XG5cblx0Z2V0VGFyZ2V0UG9ydCgpOiBQb3J0TW9kZWwge1xuXHRcdHJldHVybiB0aGlzLnRhcmdldFBvcnQ7XG5cdH1cblxuXHRzZXRUYXJnZXRQb3J0KHBvcnQ6IFBvcnRNb2RlbCkge1xuXHRcdHBvcnQuYWRkTGluayh0aGlzKTtcblx0XHR0aGlzLnRhcmdldFBvcnQgPSBwb3J0O1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycygobGlzdGVuZXI6IExpbmtNb2RlbExpc3RlbmVyKSA9PiB7XG5cdFx0XHRsaXN0ZW5lci50YXJnZXRQb3J0Q2hhbmdlZCAmJiBsaXN0ZW5lci50YXJnZXRQb3J0Q2hhbmdlZCh0aGlzLCBwb3J0KTtcblx0XHR9KTtcblx0fVxuXG5cdGdldFBvaW50cygpOiBQb2ludE1vZGVsW10ge1xuXHRcdHJldHVybiB0aGlzLnBvaW50cztcblx0fVxuXG5cdHNldFBvaW50cyhwb2ludHM6IFBvaW50TW9kZWxbXSkge1xuXHRcdHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXHR9XG5cblx0cmVtb3ZlUG9pbnQocG9pbnRNb2RlbDogUG9pbnRNb2RlbCkge1xuXHRcdHRoaXMucG9pbnRzLnNwbGljZSh0aGlzLmdldFBvaW50SW5kZXgocG9pbnRNb2RlbCksIDEpO1xuXHR9XG5cblx0YWRkUG9pbnQocG9pbnRNb2RlbDogUG9pbnRNb2RlbCwgaW5kZXggPSAxKSB7XG5cdFx0dGhpcy5wb2ludHMuc3BsaWNlKGluZGV4LCAwLCBwb2ludE1vZGVsKTtcblx0fVxuXG5cdGdldFR5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5saW5rVHlwZTtcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tb2RlbHMvTGlua01vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQTVJQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar WidgetFactory = /** @class */ (function () {\r\n    function WidgetFactory(name) {\r\n        this.type = name;\r\n    }\r\n    WidgetFactory.prototype.getType = function () {\r\n        return this.type;\r\n    };\r\n    return WidgetFactory;\r\n}());\r\nexports.WidgetFactory = WidgetFactory;\r\nvar NodeWidgetFactory = /** @class */ (function (_super) {\r\n    __extends(NodeWidgetFactory, _super);\r\n    function NodeWidgetFactory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return NodeWidgetFactory;\r\n}(WidgetFactory));\r\nexports.NodeWidgetFactory = NodeWidgetFactory;\r\nvar LinkWidgetFactory = /** @class */ (function (_super) {\r\n    __extends(LinkWidgetFactory, _super);\r\n    function LinkWidgetFactory() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return LinkWidgetFactory;\r\n}(WidgetFactory));\r\nexports.LinkWidgetFactory = LinkWidgetFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvV2lkZ2V0RmFjdG9yaWVzLnRzPzZkZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuL0RpYWdyYW1FbmdpbmVcIjtcbmltcG9ydCB7Tm9kZU1vZGVsfSBmcm9tIFwiLi9tb2RlbHMvTm9kZU1vZGVsXCI7XG5pbXBvcnQge0xpbmtNb2RlbH0gZnJvbSBcIi4vbW9kZWxzL0xpbmtNb2RlbFwiO1xuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFdpZGdldEZhY3Rvcnkge1xuXHR0eXBlOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7XG5cdFx0dGhpcy50eXBlID0gbmFtZTtcblx0fVxuXG5cdGdldFR5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy50eXBlO1xuXHR9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb2RlV2lkZ2V0RmFjdG9yeSBleHRlbmRzIFdpZGdldEZhY3Rvcnkge1xuXHRhYnN0cmFjdCBnZW5lcmF0ZVJlYWN0V2lkZ2V0KGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmUsIG5vZGU6IE5vZGVNb2RlbCk6IEpTWC5FbGVtZW50O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGlua1dpZGdldEZhY3RvcnkgZXh0ZW5kcyBXaWRnZXRGYWN0b3J5IHtcblx0YWJzdHJhY3QgZ2VuZXJhdGVSZWFjdFdpZGdldChkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lLCBsaW5rOiBMaW5rTW9kZWwpOiBKU1guRWxlbWVudDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvV2lkZ2V0RmFjdG9yaWVzLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFHQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVZBO0FBWUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFBQTtBQUFBOztBQUVBO0FBQUE7QUFBQTtBQUZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar closest = __webpack_require__(23);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar Toolkit = /** @class */ (function () {\r\n    function Toolkit() {\r\n    }\r\n    /**\r\n   * Generats a unique ID (thanks Stack overflow :3)\r\n   * @returns {String}\r\n   */\r\n    Toolkit.UID = function () {\r\n        if (Toolkit.TESTING_MODE) {\r\n            Toolkit.TESTING_MODE_ID++;\r\n            return \"test-uid-\" + Toolkit.TESTING_MODE_ID;\r\n        }\r\n        return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == \"x\" ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    /**\r\n     * Finds the closest element as a polyfill\r\n     *\r\n     * @param  {Element} element  [description]\r\n     * @param  {string}  selector [description]\r\n     */\r\n    Toolkit.closest = function (element, selector) {\r\n        if (document.body.closest) {\r\n            return element.closest(selector);\r\n        }\r\n        return closest(element, selector);\r\n    };\r\n    Toolkit.TESTING_MODE = false;\r\n    Toolkit.TESTING_MODE_ID = 1;\r\n    return Toolkit;\r\n}());\r\nexports.Toolkit = Toolkit;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1Rvb2xraXQudHM/ZWJhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xvc2VzdCA9IHJlcXVpcmUoXCJjbG9zZXN0XCIpO1xuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFRvb2xraXQge1xuXG5cdHN0YXRpYyBURVNUSU5HX01PREUgPSBmYWxzZTtcblx0c3RhdGljIFRFU1RJTkdfTU9ERV9JRCA9IDE7XG5cblx0LyoqXG4gICAqIEdlbmVyYXRzIGEgdW5pcXVlIElEICh0aGFua3MgU3RhY2sgb3ZlcmZsb3cgOjMpXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAqL1xuXHRwdWJsaWMgc3RhdGljIFVJRCgpOiBzdHJpbmcge1xuXHRcdGlmKFRvb2xraXQuVEVTVElOR19NT0RFKXtcblx0XHRcdFRvb2xraXQuVEVTVElOR19NT0RFX0lEICsrO1xuXHRcdFx0cmV0dXJuIFwidGVzdC11aWQtXCIrVG9vbGtpdC5URVNUSU5HX01PREVfSUQ7XG5cdFx0fVxuXHRcdHJldHVybiBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuXHRcdFx0dmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXG5cdFx0XHRcdHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcblx0XHRcdHJldHVybiB2LnRvU3RyaW5nKDE2KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGaW5kcyB0aGUgY2xvc2VzdCBlbGVtZW50IGFzIGEgcG9seWZpbGxcblx0ICpcblx0ICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudCAgW2Rlc2NyaXB0aW9uXVxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9ICBzZWxlY3RvciBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIGNsb3Nlc3QoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZykge1xuXHRcdGlmIChkb2N1bWVudC5ib2R5LmNsb3Nlc3QpIHtcblx0XHRcdHJldHVybiBlbGVtZW50LmNsb3Nlc3Qoc2VsZWN0b3IpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcik7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvVG9vbGtpdC50cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQWlDQTtBQTVCQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUJBO0FBQ0E7QUE4QkE7QUFBQTtBQWpDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseEntity_1 = __webpack_require__(5);\r\nvar _ = __webpack_require__(0);\r\nvar LinkModel_1 = __webpack_require__(8);\r\nvar NodeModel_1 = __webpack_require__(4);\r\n/**\r\n *\r\n */\r\nvar DiagramModel = /** @class */ (function (_super) {\r\n    __extends(DiagramModel, _super);\r\n    function DiagramModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.links = {};\r\n        _this.nodes = {};\r\n        _this.offsetX = 0;\r\n        _this.offsetY = 0;\r\n        _this.zoom = 100;\r\n        _this.rendered = false;\r\n        _this.gridSize = 0;\r\n        return _this;\r\n    }\r\n    DiagramModel.prototype.setGridSize = function (size) {\r\n        var _this = this;\r\n        if (size === void 0) { size = 0; }\r\n        this.gridSize = size;\r\n        this.iterateListeners(function (listener) {\r\n            listener.gridUpdated && listener.gridUpdated(_this, size);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getGridPosition = function (pos) {\r\n        if (this.gridSize === 0) {\r\n            return pos;\r\n        }\r\n        return this.gridSize * Math.floor((pos + this.gridSize / 2) / this.gridSize);\r\n    };\r\n    DiagramModel.prototype.deSerializeDiagram = function (object, diagramEngine) {\r\n        var _this = this;\r\n        this.deSerialize(object);\r\n        this.offsetX = object.offsetX;\r\n        this.offsetY = object.offsetY;\r\n        this.zoom = object.zoom;\r\n        this.gridSize = object.gridSize;\r\n        //deserialize nodes\r\n        _.forEach(object.nodes, function (node) {\r\n            var nodeOb = diagramEngine.getInstanceFactory(node._class).getInstance(node);\r\n            nodeOb.deSerialize(node);\r\n            //deserialize ports\r\n            _.forEach(node.ports, function (port) {\r\n                var portOb = diagramEngine.getInstanceFactory(port._class).getInstance();\r\n                portOb.deSerialize(port);\r\n                nodeOb.addPort(portOb);\r\n            });\r\n            _this.addNode(nodeOb);\r\n        });\r\n        _.forEach(object.links, function (link) {\r\n            var linkOb = diagramEngine.getInstanceFactory(link._class).getInstance();\r\n            linkOb.deSerialize(link);\r\n            if (link.target) {\r\n                linkOb.setTargetPort(_this.getNode(link.target).getPortFromID(link.targetPort));\r\n            }\r\n            if (link.source) {\r\n                linkOb.setSourcePort(_this.getNode(link.source).getPortFromID(link.sourcePort));\r\n            }\r\n            _this.addLink(linkOb);\r\n        });\r\n    };\r\n    DiagramModel.prototype.serializeDiagram = function () {\r\n        return _.merge(this.serialize(), {\r\n            offsetX: this.offsetX,\r\n            offsetY: this.offsetY,\r\n            zoom: this.zoom,\r\n            gridSize: this.gridSize,\r\n            links: _.map(this.links, function (link) {\r\n                return link.serialize();\r\n            }),\r\n            nodes: _.map(this.nodes, function (link) {\r\n                return link.serialize();\r\n            })\r\n        });\r\n    };\r\n    DiagramModel.prototype.clearSelection = function (ignore) {\r\n        if (ignore === void 0) { ignore = null; }\r\n        _.forEach(this.getSelectedItems(), function (element) {\r\n            if (ignore && ignore.getID() === element.getID()) {\r\n                return;\r\n            }\r\n            element.setSelected(false); //TODO dont fire the listener\r\n        });\r\n    };\r\n    DiagramModel.prototype.getSelectedItems = function () {\r\n        var items = [];\r\n        // run through nodes\r\n        items = items.concat(_.flatMap(this.nodes, function (node) {\r\n            return node.getSelectedEntities();\r\n        }));\r\n        // find all the links\r\n        items = items.concat(_.flatMap(this.links, function (link) {\r\n            return link.getSelectedEntities();\r\n        }));\r\n        //find all points\r\n        items = items.concat(_.flatMap(this.links, function (link) {\r\n            return _.flatMap(link.points, function (point) {\r\n                return point.getSelectedEntities();\r\n            });\r\n        }));\r\n        return _.uniq(items);\r\n    };\r\n    DiagramModel.prototype.setZoomLevel = function (zoom) {\r\n        var _this = this;\r\n        this.zoom = zoom;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.zoomUpdated && listener.zoomUpdated(_this, _this.zoom);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffset = function (offsetX, offsetY) {\r\n        var _this = this;\r\n        this.offsetX = offsetX;\r\n        this.offsetY = offsetY;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffsetX = function (offsetX) {\r\n        var _this = this;\r\n        this.offsetX = offsetX;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.setOffsetY = function (offsetY) {\r\n        var _this = this;\r\n        this.offsetY = offsetY;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.controlsUpdated)\r\n                listener.controlsUpdated();\r\n        });\r\n        this.iterateListeners(function (listener) {\r\n            listener.offsetUpdated && listener.offsetUpdated(_this, _this.offsetX, _this.offsetY);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getOffsetY = function () {\r\n        return this.offsetY;\r\n    };\r\n    DiagramModel.prototype.getOffsetX = function () {\r\n        return this.offsetX;\r\n    };\r\n    DiagramModel.prototype.getZoomLevel = function () {\r\n        return this.zoom;\r\n    };\r\n    DiagramModel.prototype.getNode = function (node) {\r\n        if (node instanceof NodeModel_1.NodeModel) {\r\n            return node;\r\n        }\r\n        if (!this.nodes[node]) {\r\n            return null;\r\n        }\r\n        return this.nodes[node];\r\n    };\r\n    DiagramModel.prototype.getLink = function (link) {\r\n        if (link instanceof LinkModel_1.LinkModel) {\r\n            return link;\r\n        }\r\n        if (!this.links[link]) {\r\n            return null;\r\n        }\r\n        return this.links[link];\r\n    };\r\n    DiagramModel.prototype.addLink = function (link) {\r\n        var _this = this;\r\n        link.addListener({\r\n            entityRemoved: function () {\r\n                _this.removeLink(link);\r\n            }\r\n        });\r\n        this.links[link.getID()] = link;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linksUpdated)\r\n                listener.linksUpdated(link, true);\r\n        });\r\n        return link;\r\n    };\r\n    DiagramModel.prototype.addNode = function (node) {\r\n        var _this = this;\r\n        node.addListener({\r\n            entityRemoved: function () {\r\n                _this.removeNode(node);\r\n            }\r\n        });\r\n        this.nodes[node.getID()] = node;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodesUpdated)\r\n                listener.nodesUpdated(node, true);\r\n        });\r\n        return node;\r\n    };\r\n    DiagramModel.prototype.removeLink = function (link) {\r\n        if (link instanceof LinkModel_1.LinkModel) {\r\n            delete this.links[link.getID()];\r\n            this.iterateListeners(function (listener) {\r\n                if (listener.linksUpdated)\r\n                    listener.linksUpdated(link, false);\r\n            });\r\n            return;\r\n        }\r\n        delete this.links[\"\" + link];\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linksUpdated)\r\n                listener.linksUpdated(link, false);\r\n        });\r\n    };\r\n    DiagramModel.prototype.removeNode = function (node) {\r\n        if (node instanceof NodeModel_1.NodeModel) {\r\n            delete this.nodes[node.getID()];\r\n            this.iterateListeners(function (listener) {\r\n                if (listener.nodesUpdated)\r\n                    listener.nodesUpdated(node, false);\r\n            });\r\n            return;\r\n        }\r\n        delete this.nodes[\"\" + node];\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodesUpdated)\r\n                listener.nodesUpdated(node, false);\r\n        });\r\n    };\r\n    DiagramModel.prototype.getLinks = function () {\r\n        return this.links;\r\n    };\r\n    DiagramModel.prototype.getNodes = function () {\r\n        return this.nodes;\r\n    };\r\n    return DiagramModel;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.DiagramModel = DiagramModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21vZGVscy9EaWFncmFtTW9kZWwudHM/NzFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTGlzdGVuZXIsIEJhc2VFbnRpdHkgfSBmcm9tIFwiLi4vQmFzZUVudGl0eVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBEaWFncmFtRW5naW5lIH0gZnJvbSBcIi4uL0RpYWdyYW1FbmdpbmVcIjtcbmltcG9ydCB7TGlua01vZGVsfSBmcm9tIFwiLi9MaW5rTW9kZWxcIjtcbmltcG9ydCB7Tm9kZU1vZGVsfSBmcm9tIFwiLi9Ob2RlTW9kZWxcIjtcbmltcG9ydCB7UG9ydE1vZGVsfSBmcm9tIFwiLi9Qb3J0TW9kZWxcIjtcbmltcG9ydCB7QmFzZU1vZGVsLCBCYXNlTW9kZWxMaXN0ZW5lcn0gZnJvbSBcIi4vQmFzZU1vZGVsXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICpcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaWFncmFtTGlzdGVuZXIgZXh0ZW5kcyBCYXNlTGlzdGVuZXIge1xuXHRub2Rlc1VwZGF0ZWQ/KG5vZGU6IGFueSwgaXNDcmVhdGVkOiBib29sZWFuKTogdm9pZDtcblxuXHRsaW5rc1VwZGF0ZWQ/KGxpbms6IGFueSwgaXNDcmVhdGVkOiBib29sZWFuKTogdm9pZDtcblxuXHQvKipcblx0ICogQGRlcHJlY2F0ZWRcblx0ICovXG5cdGNvbnRyb2xzVXBkYXRlZD8oKTogdm9pZDtcblxuXHRvZmZzZXRVcGRhdGVkPyhtb2RlbDogRGlhZ3JhbU1vZGVsLCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcik6IHZvaWQ7XG5cblx0em9vbVVwZGF0ZWQ/KG1vZGVsOiBEaWFncmFtTW9kZWwsIHpvb206IG51bWJlcik6IHZvaWQ7XG5cblx0Z3JpZFVwZGF0ZWQ/KG1vZGVsOiBEaWFncmFtTW9kZWwsIHNpemU6IG51bWJlcik6IHZvaWQ7XG5cblxufVxuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRGlhZ3JhbU1vZGVsIGV4dGVuZHMgQmFzZUVudGl0eTxEaWFncmFtTGlzdGVuZXI+IHtcblx0Ly9tb2RlbHNcblx0bGlua3M6IHsgW3M6IHN0cmluZ106IExpbmtNb2RlbCB9O1xuXHRub2RlczogeyBbczogc3RyaW5nXTogTm9kZU1vZGVsIH07XG5cblx0Ly9jb250cm9sIHZhcmlhYmxlc1xuXHRvZmZzZXRYOiBudW1iZXI7XG5cdG9mZnNldFk6IG51bWJlcjtcblx0em9vbTogbnVtYmVyO1xuXHRyZW5kZXJlZDogYm9vbGVhbjtcblx0Z3JpZFNpemU6IG51bWJlcjtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0dGhpcy5saW5rcyA9IHt9O1xuXHRcdHRoaXMubm9kZXMgPSB7fTtcblxuXHRcdHRoaXMub2Zmc2V0WCA9IDA7XG5cdFx0dGhpcy5vZmZzZXRZID0gMDtcblx0XHR0aGlzLnpvb20gPSAxMDA7XG5cdFx0dGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZ3JpZFNpemUgPSAwO1xuXHR9XG5cblx0c2V0R3JpZFNpemUoc2l6ZTogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMuZ3JpZFNpemUgPSBzaXplO1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRsaXN0ZW5lci5ncmlkVXBkYXRlZCAmJiBsaXN0ZW5lci5ncmlkVXBkYXRlZCh0aGlzLCBzaXplKTtcblx0XHR9KTtcblx0fVxuXG5cdGdldEdyaWRQb3NpdGlvbihwb3MpIHtcblx0XHRpZiAodGhpcy5ncmlkU2l6ZSA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIHBvcztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZ3JpZFNpemUgKiBNYXRoLmZsb29yKChwb3MgKyB0aGlzLmdyaWRTaXplIC8gMikgLyB0aGlzLmdyaWRTaXplKTtcblx0fVxuXG5cdGRlU2VyaWFsaXplRGlhZ3JhbShvYmplY3Q6IGFueSwgZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZSkge1xuXHRcdHRoaXMuZGVTZXJpYWxpemUob2JqZWN0KTtcblxuXHRcdHRoaXMub2Zmc2V0WCA9IG9iamVjdC5vZmZzZXRYO1xuXHRcdHRoaXMub2Zmc2V0WSA9IG9iamVjdC5vZmZzZXRZO1xuXHRcdHRoaXMuem9vbSA9IG9iamVjdC56b29tO1xuXHRcdHRoaXMuZ3JpZFNpemUgPSBvYmplY3QuZ3JpZFNpemU7XG5cblx0XHQvL2Rlc2VyaWFsaXplIG5vZGVzXG5cdFx0Xy5mb3JFYWNoKG9iamVjdC5ub2RlcywgKG5vZGU6IGFueSkgPT4ge1xuXHRcdFx0bGV0IG5vZGVPYiA9IGRpYWdyYW1FbmdpbmUuZ2V0SW5zdGFuY2VGYWN0b3J5KG5vZGUuX2NsYXNzKS5nZXRJbnN0YW5jZShub2RlKSBhcyBOb2RlTW9kZWw7XG5cdFx0XHRub2RlT2IuZGVTZXJpYWxpemUobm9kZSk7XG5cdFx0XHQvL2Rlc2VyaWFsaXplIHBvcnRzXG5cdFx0XHRfLmZvckVhY2gobm9kZS5wb3J0cywgKHBvcnQ6IGFueSkgPT4ge1xuXHRcdFx0XHRsZXQgcG9ydE9iID0gZGlhZ3JhbUVuZ2luZS5nZXRJbnN0YW5jZUZhY3RvcnkocG9ydC5fY2xhc3MpLmdldEluc3RhbmNlKCkgYXMgUG9ydE1vZGVsO1xuXHRcdFx0XHRwb3J0T2IuZGVTZXJpYWxpemUocG9ydCk7XG5cdFx0XHRcdG5vZGVPYi5hZGRQb3J0KHBvcnRPYik7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5hZGROb2RlKG5vZGVPYik7XG5cdFx0fSk7XG5cblx0XHRfLmZvckVhY2gob2JqZWN0LmxpbmtzLCAobGluazogYW55KSA9PiB7XG5cdFx0XHRsZXQgbGlua09iID0gZGlhZ3JhbUVuZ2luZS5nZXRJbnN0YW5jZUZhY3RvcnkobGluay5fY2xhc3MpLmdldEluc3RhbmNlKCkgYXMgTGlua01vZGVsO1xuXHRcdFx0bGlua09iLmRlU2VyaWFsaXplKGxpbmspO1xuXG5cdFx0XHRpZiAobGluay50YXJnZXQpIHtcblx0XHRcdFx0bGlua09iLnNldFRhcmdldFBvcnQodGhpcy5nZXROb2RlKGxpbmsudGFyZ2V0KS5nZXRQb3J0RnJvbUlEKGxpbmsudGFyZ2V0UG9ydCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGluay5zb3VyY2UpIHtcblx0XHRcdFx0bGlua09iLnNldFNvdXJjZVBvcnQodGhpcy5nZXROb2RlKGxpbmsuc291cmNlKS5nZXRQb3J0RnJvbUlEKGxpbmsuc291cmNlUG9ydCkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmFkZExpbmsobGlua09iKTtcblx0XHR9KTtcblx0fVxuXG5cdHNlcmlhbGl6ZURpYWdyYW0oKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2UodGhpcy5zZXJpYWxpemUoKSwge1xuXHRcdFx0b2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxuXHRcdFx0b2Zmc2V0WTogdGhpcy5vZmZzZXRZLFxuXHRcdFx0em9vbTogdGhpcy56b29tLFxuXHRcdFx0Z3JpZFNpemU6IHRoaXMuZ3JpZFNpemUsXG5cdFx0XHRsaW5rczogXy5tYXAodGhpcy5saW5rcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSksXG5cdFx0XHRub2RlczogXy5tYXAodGhpcy5ub2RlcywgbGluayA9PiB7XG5cdFx0XHRcdHJldHVybiBsaW5rLnNlcmlhbGl6ZSgpO1xuXHRcdFx0fSlcblx0XHR9KTtcblx0fVxuXG5cdGNsZWFyU2VsZWN0aW9uKGlnbm9yZTogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPiB8IG51bGwgPSBudWxsKSB7XG5cdFx0Xy5mb3JFYWNoKHRoaXMuZ2V0U2VsZWN0ZWRJdGVtcygpLCBlbGVtZW50ID0+IHtcblx0XHRcdGlmIChpZ25vcmUgJiYgaWdub3JlLmdldElEKCkgPT09IGVsZW1lbnQuZ2V0SUQoKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRlbGVtZW50LnNldFNlbGVjdGVkKGZhbHNlKTsgLy9UT0RPIGRvbnQgZmlyZSB0aGUgbGlzdGVuZXJcblx0XHR9KTtcblx0fVxuXG5cdGdldFNlbGVjdGVkSXRlbXMoKTogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPltdIHtcblx0XHR2YXIgaXRlbXMgPSBbXTtcblxuXHRcdC8vIHJ1biB0aHJvdWdoIG5vZGVzXG5cdFx0aXRlbXMgPSBpdGVtcy5jb25jYXQoXG5cdFx0XHRfLmZsYXRNYXAodGhpcy5ub2Rlcywgbm9kZSA9PiB7XG5cdFx0XHRcdHJldHVybiBub2RlLmdldFNlbGVjdGVkRW50aXRpZXMoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIGZpbmQgYWxsIHRoZSBsaW5rc1xuXHRcdGl0ZW1zID0gaXRlbXMuY29uY2F0KFxuXHRcdFx0Xy5mbGF0TWFwKHRoaXMubGlua3MsIGxpbmsgPT4ge1xuXHRcdFx0XHRyZXR1cm4gbGluay5nZXRTZWxlY3RlZEVudGl0aWVzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHQvL2ZpbmQgYWxsIHBvaW50c1xuXHRcdGl0ZW1zID0gaXRlbXMuY29uY2F0KFxuXHRcdFx0Xy5mbGF0TWFwKHRoaXMubGlua3MsIGxpbmsgPT4ge1xuXHRcdFx0XHRyZXR1cm4gXy5mbGF0TWFwKGxpbmsucG9pbnRzLCBwb2ludCA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBvaW50LmdldFNlbGVjdGVkRW50aXRpZXMoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gXy51bmlxKGl0ZW1zKTtcblx0fVxuXG5cdHNldFpvb21MZXZlbCh6b29tOiBudW1iZXIpIHtcblx0XHR0aGlzLnpvb20gPSB6b29tO1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKSBsaXN0ZW5lci5jb250cm9sc1VwZGF0ZWQoKTtcblx0XHR9KTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0bGlzdGVuZXIuem9vbVVwZGF0ZWQgJiYgbGlzdGVuZXIuem9vbVVwZGF0ZWQodGhpcywgdGhpcy56b29tKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldE9mZnNldChvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcikge1xuXHRcdHRoaXMub2Zmc2V0WCA9IG9mZnNldFg7XG5cdFx0dGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCkgbGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQgJiYgbGlzdGVuZXIub2Zmc2V0VXBkYXRlZCh0aGlzLCB0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXRPZmZzZXRYKG9mZnNldFg6IG51bWJlcikge1xuXHRcdHRoaXMub2Zmc2V0WCA9IG9mZnNldFg7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5jb250cm9sc1VwZGF0ZWQpIGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCgpO1xuXHRcdH0pO1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycyhsaXN0ZW5lciA9PiB7XG5cdFx0XHRsaXN0ZW5lci5vZmZzZXRVcGRhdGVkICYmIGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQodGhpcywgdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFkpO1xuXHRcdH0pO1xuXHR9XG5cdHNldE9mZnNldFkob2Zmc2V0WTogbnVtYmVyKSB7XG5cdFx0dGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmNvbnRyb2xzVXBkYXRlZCkgbGlzdGVuZXIuY29udHJvbHNVcGRhdGVkKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGxpc3RlbmVyLm9mZnNldFVwZGF0ZWQgJiYgbGlzdGVuZXIub2Zmc2V0VXBkYXRlZCh0aGlzLCB0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSk7XG5cdFx0fSk7XG5cdH1cblxuXHRnZXRPZmZzZXRZKCkge1xuXHRcdHJldHVybiB0aGlzLm9mZnNldFk7XG5cdH1cblxuXHRnZXRPZmZzZXRYKCkge1xuXHRcdHJldHVybiB0aGlzLm9mZnNldFg7XG5cdH1cblxuXHRnZXRab29tTGV2ZWwoKSB7XG5cdFx0cmV0dXJuIHRoaXMuem9vbTtcblx0fVxuXG5cdGdldE5vZGUobm9kZTogc3RyaW5nIHwgTm9kZU1vZGVsKTogTm9kZU1vZGVsIHwgbnVsbCB7XG5cdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBOb2RlTW9kZWwpIHtcblx0XHRcdHJldHVybiBub2RlO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMubm9kZXNbbm9kZV0pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5ub2Rlc1tub2RlXTtcblx0fVxuXG5cdGdldExpbmsobGluazogc3RyaW5nIHwgTGlua01vZGVsKTogTGlua01vZGVsIHwgbnVsbCB7XG5cdFx0aWYgKGxpbmsgaW5zdGFuY2VvZiBMaW5rTW9kZWwpIHtcblx0XHRcdHJldHVybiBsaW5rO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMubGlua3NbbGlua10pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5saW5rc1tsaW5rXTtcblx0fVxuXG5cdGFkZExpbmsobGluazogTGlua01vZGVsKTogTGlua01vZGVsIHtcblx0XHRsaW5rLmFkZExpc3RlbmVyKHtcblx0XHRcdGVudGl0eVJlbW92ZWQ6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW1vdmVMaW5rKGxpbmspO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMubGlua3NbbGluay5nZXRJRCgpXSA9IGxpbms7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5saW5rc1VwZGF0ZWQpIGxpc3RlbmVyLmxpbmtzVXBkYXRlZChsaW5rLCB0cnVlKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gbGluaztcblx0fVxuXG5cdGFkZE5vZGUobm9kZTogTm9kZU1vZGVsKTogTm9kZU1vZGVsIHtcblx0XHRub2RlLmFkZExpc3RlbmVyKHtcblx0XHRcdGVudGl0eVJlbW92ZWQ6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMubm9kZXNbbm9kZS5nZXRJRCgpXSA9IG5vZGU7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdGlmIChsaXN0ZW5lci5ub2Rlc1VwZGF0ZWQpIGxpc3RlbmVyLm5vZGVzVXBkYXRlZChub2RlLCB0cnVlKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdHJlbW92ZUxpbmsobGluazogTGlua01vZGVsIHwgc3RyaW5nKSB7XG5cdFx0aWYgKGxpbmsgaW5zdGFuY2VvZiBMaW5rTW9kZWwpIHtcblx0XHRcdGRlbGV0ZSB0aGlzLmxpbmtzW2xpbmsuZ2V0SUQoKV07XG5cdFx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0XHRpZiAobGlzdGVuZXIubGlua3NVcGRhdGVkKSBsaXN0ZW5lci5saW5rc1VwZGF0ZWQobGluaywgZmFsc2UpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRlbGV0ZSB0aGlzLmxpbmtzW1wiXCIgKyBsaW5rXTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLmxpbmtzVXBkYXRlZCkgbGlzdGVuZXIubGlua3NVcGRhdGVkKGxpbmssIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXHRyZW1vdmVOb2RlKG5vZGU6IE5vZGVNb2RlbCB8IHN0cmluZykge1xuXHRcdGlmIChub2RlIGluc3RhbmNlb2YgTm9kZU1vZGVsKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5ub2Rlc1tub2RlLmdldElEKCldO1xuXHRcdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKGxpc3RlbmVyID0+IHtcblx0XHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVzVXBkYXRlZCkgbGlzdGVuZXIubm9kZXNVcGRhdGVkKG5vZGUsIGZhbHNlKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSB0aGlzLm5vZGVzW1wiXCIgKyBub2RlXTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMobGlzdGVuZXIgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVzVXBkYXRlZCkgbGlzdGVuZXIubm9kZXNVcGRhdGVkKG5vZGUsIGZhbHNlKTtcblx0XHR9KTtcblx0fVxuXG5cdGdldExpbmtzKCk6IHsgW3M6IHN0cmluZ106IExpbmtNb2RlbCB9IHtcblx0XHRyZXR1cm4gdGhpcy5saW5rcztcblx0fVxuXG5cdGdldE5vZGVzKCk6IHsgW3M6IHN0cmluZ106IE5vZGVNb2RlbCB9IHtcblx0XHRyZXR1cm4gdGhpcy5ub2Rlcztcblx0fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tb2RlbHMvRGlhZ3JhbU1vZGVsLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQXlCQTs7QUFFQTtBQUNBO0FBQUE7QUFZQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBdlFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar PointModel_1 = __webpack_require__(2);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultLinkWidget = /** @class */ (function (_super) {\r\n    __extends(DefaultLinkWidget, _super);\r\n    function DefaultLinkWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.addPointToLink = function (event, index) {\r\n            if (!event.shiftKey &&\r\n                !_this.props.diagramEngine.isModelLocked(_this.props.link) &&\r\n                _this.props.link.points.length - 1 <= _this.props.diagramEngine.getMaxNumberPointsPerLink()) {\r\n                var point = new PointModel_1.PointModel(_this.props.link, _this.props.diagramEngine.getRelativeMousePoint(event));\r\n                point.setSelected(true);\r\n                _this.forceUpdate();\r\n                _this.props.link.addPoint(point, index);\r\n                _this.props.pointAdded(point, event);\r\n            }\r\n        };\r\n        _this.state = {\r\n            selected: false\r\n        };\r\n        return _this;\r\n    }\r\n    DefaultLinkWidget.prototype.generatePoint = function (pointIndex) {\r\n        var _this = this;\r\n        var x = this.props.link.points[pointIndex].x;\r\n        var y = this.props.link.points[pointIndex].y;\r\n        return (React.createElement(\"g\", { key: \"point-\" + this.props.link.points[pointIndex].id },\r\n            React.createElement(\"circle\", { cx: x, cy: y, r: 5, className: \"point pointui\" + (this.props.link.points[pointIndex].isSelected() ? \" selected\" : \"\") }),\r\n            React.createElement(\"circle\", { onMouseLeave: function () {\r\n                    _this.setState({ selected: false });\r\n                }, onMouseEnter: function () {\r\n                    _this.setState({ selected: true });\r\n                }, \"data-id\": this.props.link.points[pointIndex].id, \"data-linkid\": this.props.link.id, cx: x, cy: y, r: 15, opacity: 0, className: \"point\" })));\r\n    };\r\n    DefaultLinkWidget.prototype.generateLink = function (extraProps, id) {\r\n        var _this = this;\r\n        var Bottom = (React.createElement(\"path\", __assign({ className: this.state.selected || this.props.link.isSelected() ? \"selected\" : \"\", strokeWidth: this.props.width, stroke: this.props.color }, extraProps)));\r\n        var Top = (React.createElement(\"path\", __assign({ strokeLinecap: \"round\", onMouseLeave: function () {\r\n                _this.setState({ selected: false });\r\n            }, onMouseEnter: function () {\r\n                _this.setState({ selected: true });\r\n            }, \"data-linkid\": this.props.link.getID(), stroke: this.props.color, strokeOpacity: this.state.selected ? 0.1 : 0, strokeWidth: 20, onContextMenu: function () {\r\n                if (!_this.props.diagramEngine.isModelLocked(_this.props.link)) {\r\n                    event.preventDefault();\r\n                    _this.props.link.remove();\r\n                }\r\n            } }, extraProps)));\r\n        return (React.createElement(\"g\", { key: \"link-\" + id },\r\n            Bottom,\r\n            Top));\r\n    };\r\n    DefaultLinkWidget.prototype.generateLinePath = function (firstPoint, lastPoint) {\r\n        return \"M\" + firstPoint.x + \",\" + firstPoint.y + \" L \" + lastPoint.x + \",\" + lastPoint.y;\r\n    };\r\n    DefaultLinkWidget.prototype.generateCurvePath = function (firstPoint, lastPoint, firstPointDelta, lastPointDelta) {\r\n        if (firstPointDelta === void 0) { firstPointDelta = 0; }\r\n        if (lastPointDelta === void 0) { lastPointDelta = 0; }\r\n        return \"M\" + firstPoint.x + \",\" + firstPoint.y + \" C \" + (firstPoint.x + firstPointDelta) + \",\" + firstPoint.y + \" \" + (lastPoint.x +\r\n            lastPointDelta) + \",\" + lastPoint.y + \" \" + lastPoint.x + \",\" + lastPoint.y;\r\n    };\r\n    DefaultLinkWidget.prototype.render = function () {\r\n        var _this = this;\r\n        //ensure id is present for all points on the path\r\n        var points = this.props.link.points;\r\n        var paths = [];\r\n        var model = this.props.diagramEngine.getDiagramModel();\r\n        //draw the smoothing\r\n        if (points.length === 2) {\r\n            //if the points are too close, just draw a straight line\r\n            var margin = 50;\r\n            if (Math.abs(points[0].x - points[1].x) < 50) {\r\n                margin = 5;\r\n            }\r\n            var pointLeft = points[0];\r\n            var pointRight = points[1];\r\n            //some defensive programming to make sure the smoothing is\r\n            //always in the right direction\r\n            if (pointLeft.x > pointRight.x) {\r\n                pointLeft = points[1];\r\n                pointRight = points[0];\r\n            }\r\n            paths.push(this.generateLink({\r\n                onMouseDown: function (event) {\r\n                    _this.addPointToLink(event, 1);\r\n                },\r\n                d: this.generateCurvePath(pointLeft, pointRight, margin, -margin)\r\n            }, \"0\"));\r\n            if (this.props.link.targetPort === null) {\r\n                paths.push(this.generatePoint(1));\r\n            }\r\n        }\r\n        else {\r\n            //draw the multiple anchors and complex line instead\r\n            var ds = [];\r\n            if (this.props.smooth) {\r\n                ds.push(this.generateCurvePath(points[0], points[1], 50, 0));\r\n                for (var i = 1; i < points.length - 2; i++) {\r\n                    ds.push(this.generateLinePath(points[i], points[i + 1]));\r\n                }\r\n                ds.push(this.generateCurvePath(points[i], points[i + 1], 0, -50));\r\n            }\r\n            else {\r\n                var ds = [];\r\n                for (var i = 0; i < points.length - 1; i++) {\r\n                    ds.push(this.generateLinePath(points[i], points[i + 1]));\r\n                }\r\n            }\r\n            paths = ds.map(function (data, index) {\r\n                return _this.generateLink({\r\n                    \"data-linkid\": _this.props.link.id,\r\n                    \"data-point\": index,\r\n                    \"onMouseDown\": function (event) {\r\n                        _this.addPointToLink(event, index + 1);\r\n                    },\r\n                    \"d\": data\r\n                }, index);\r\n            });\r\n            //render the circles\r\n            for (var i = 1; i < points.length - 1; i++) {\r\n                paths.push(this.generatePoint(i));\r\n            }\r\n            if (this.props.link.targetPort === null) {\r\n                paths.push(this.generatePoint(points.length - 1));\r\n            }\r\n        }\r\n        return React.createElement(\"g\", null, paths);\r\n    };\r\n    DefaultLinkWidget.defaultProps = {\r\n        color: \"black\",\r\n        width: 3,\r\n        link: null,\r\n        engine: null,\r\n        smooth: false,\r\n        diagramEngine: null\r\n    };\r\n    return DefaultLinkWidget;\r\n}(React.Component));\r\nexports.DefaultLinkWidget = DefaultLinkWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRMaW5rV2lkZ2V0LnRzeD80N2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG5pbXBvcnQge0xpbmtNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9MaW5rTW9kZWxcIjtcbmltcG9ydCB7UG9pbnRNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Qb2ludE1vZGVsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdExpbmtQcm9wcyB7XG5cdGNvbG9yPzogc3RyaW5nO1xuXHR3aWR0aD86IG51bWJlcjtcblx0bGluazogTGlua01vZGVsO1xuXHRzbW9vdGg/OiBib29sZWFuO1xuXHRkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lO1xuXHRwb2ludEFkZGVkPzogKHBvaW50OiBQb2ludE1vZGVsLCBldmVudCkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRMaW5rU3RhdGUge1xuXHRzZWxlY3RlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRMaW5rV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERlZmF1bHRMaW5rUHJvcHMsIERlZmF1bHRMaW5rU3RhdGU+IHtcblx0cHVibGljIHN0YXRpYyBkZWZhdWx0UHJvcHM6IERlZmF1bHRMaW5rUHJvcHMgPSB7XG5cdFx0Y29sb3I6IFwiYmxhY2tcIixcblx0XHR3aWR0aDogMyxcblx0XHRsaW5rOiBudWxsLFxuXHRcdGVuZ2luZTogbnVsbCxcblx0XHRzbW9vdGg6IGZhbHNlLFxuXHRcdGRpYWdyYW1FbmdpbmU6IG51bGxcblx0fTtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wczogRGVmYXVsdExpbmtQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0fTtcblx0fVxuXG5cdGFkZFBvaW50VG9MaW5rID0gKGV2ZW50LCBpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG5cdFx0aWYgKFxuXHRcdFx0IWV2ZW50LnNoaWZ0S2V5ICYmXG5cdFx0XHQhdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmlzTW9kZWxMb2NrZWQodGhpcy5wcm9wcy5saW5rKSAmJlxuXHRcdFx0dGhpcy5wcm9wcy5saW5rLnBvaW50cy5sZW5ndGggLSAxIDw9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRNYXhOdW1iZXJQb2ludHNQZXJMaW5rKClcblx0XHQpIHtcblx0XHRcdGNvbnN0IHBvaW50ID0gbmV3IFBvaW50TW9kZWwodGhpcy5wcm9wcy5saW5rLCB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZ2V0UmVsYXRpdmVNb3VzZVBvaW50KGV2ZW50KSk7XG5cdFx0XHRwb2ludC5zZXRTZWxlY3RlZCh0cnVlKTtcblx0XHRcdHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0XHRcdHRoaXMucHJvcHMubGluay5hZGRQb2ludChwb2ludCwgaW5kZXgpO1xuXHRcdFx0dGhpcy5wcm9wcy5wb2ludEFkZGVkKHBvaW50LCBldmVudCk7XG5cdFx0fVxuXHR9XG5cblx0Z2VuZXJhdGVQb2ludChwb2ludEluZGV4OiBudW1iZXIpOiBKU1guRWxlbWVudCB7XG5cdFx0bGV0IHggPSB0aGlzLnByb3BzLmxpbmsucG9pbnRzW3BvaW50SW5kZXhdLng7XG5cdFx0bGV0IHkgPSB0aGlzLnByb3BzLmxpbmsucG9pbnRzW3BvaW50SW5kZXhdLnk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGcga2V5PXtcInBvaW50LVwiICsgdGhpcy5wcm9wcy5saW5rLnBvaW50c1twb2ludEluZGV4XS5pZH0+XG5cdFx0XHRcdDxjaXJjbGVcblx0XHRcdFx0XHRjeD17eH1cblx0XHRcdFx0XHRjeT17eX1cblx0XHRcdFx0XHRyPXs1fVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17XCJwb2ludCBwb2ludHVpXCIgKyAodGhpcy5wcm9wcy5saW5rLnBvaW50c1twb2ludEluZGV4XS5pc1NlbGVjdGVkKCkgPyBcIiBzZWxlY3RlZFwiIDogXCJcIil9XG5cdFx0XHRcdC8+XG5cdFx0XHRcdDxjaXJjbGVcblx0XHRcdFx0XHRvbk1vdXNlTGVhdmU9eygpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogZmFsc2UgfSk7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRvbk1vdXNlRW50ZXI9eygpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogdHJ1ZSB9KTtcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdGRhdGEtaWQ9e3RoaXMucHJvcHMubGluay5wb2ludHNbcG9pbnRJbmRleF0uaWR9XG5cdFx0XHRcdFx0ZGF0YS1saW5raWQ9e3RoaXMucHJvcHMubGluay5pZH1cblx0XHRcdFx0XHRjeD17eH1cblx0XHRcdFx0XHRjeT17eX1cblx0XHRcdFx0XHRyPXsxNX1cblx0XHRcdFx0XHRvcGFjaXR5PXswfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17XCJwb2ludFwifVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9nPlxuXHRcdCk7XG5cdH1cblxuXHRnZW5lcmF0ZUxpbmsoZXh0cmFQcm9wczogYW55LCBpZDogc3RyaW5nIHwgbnVtYmVyKTogSlNYLkVsZW1lbnQge1xuXHRcdHZhciBCb3R0b20gPSAoXG5cdFx0XHQ8cGF0aFxuXHRcdFx0XHRjbGFzc05hbWU9e3RoaXMuc3RhdGUuc2VsZWN0ZWQgfHwgdGhpcy5wcm9wcy5saW5rLmlzU2VsZWN0ZWQoKSA/IFwic2VsZWN0ZWRcIiA6IFwiXCJ9XG5cdFx0XHRcdHN0cm9rZVdpZHRoPXt0aGlzLnByb3BzLndpZHRofVxuXHRcdFx0XHRzdHJva2U9e3RoaXMucHJvcHMuY29sb3J9XG5cdFx0XHRcdHsuLi5leHRyYVByb3BzfVxuXHRcdFx0Lz5cblx0XHQpO1xuXG5cdFx0dmFyIFRvcCA9IChcblx0XHRcdDxwYXRoXG5cdFx0XHRcdHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG5cdFx0XHRcdG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogZmFsc2UgfSk7XG5cdFx0XHRcdH19XG5cdFx0XHRcdG9uTW91c2VFbnRlcj17KCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogdHJ1ZSB9KTtcblx0XHRcdFx0fX1cblx0XHRcdFx0ZGF0YS1saW5raWQ9e3RoaXMucHJvcHMubGluay5nZXRJRCgpfVxuXHRcdFx0XHRzdHJva2U9e3RoaXMucHJvcHMuY29sb3J9XG5cdFx0XHRcdHN0cm9rZU9wYWNpdHk9e3RoaXMuc3RhdGUuc2VsZWN0ZWQgPyAwLjEgOiAwfVxuXHRcdFx0XHRzdHJva2VXaWR0aD17MjB9XG5cdFx0XHRcdG9uQ29udGV4dE1lbnU9eygpID0+IHtcblx0XHRcdFx0XHRpZiAoIXRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5pc01vZGVsTG9ja2VkKHRoaXMucHJvcHMubGluaykpIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLmxpbmsucmVtb3ZlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9fVxuXHRcdFx0XHR7Li4uZXh0cmFQcm9wc31cblx0XHRcdC8+XG5cdFx0KTtcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZyBrZXk9e1wibGluay1cIiArIGlkfT5cblx0XHRcdFx0e0JvdHRvbX1cblx0XHRcdFx0e1RvcH1cblx0XHRcdDwvZz5cblx0XHQpO1xuXHR9XG5cblx0Z2VuZXJhdGVMaW5lUGF0aChmaXJzdFBvaW50OiBQb2ludE1vZGVsLCBsYXN0UG9pbnQ6IFBvaW50TW9kZWwpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgTSR7Zmlyc3RQb2ludC54fSwke2ZpcnN0UG9pbnQueX0gTCAke2xhc3RQb2ludC54fSwke2xhc3RQb2ludC55fWA7XG5cdH1cblxuXHRnZW5lcmF0ZUN1cnZlUGF0aChcblx0XHRmaXJzdFBvaW50OiBQb2ludE1vZGVsLFxuXHRcdGxhc3RQb2ludDogUG9pbnRNb2RlbCxcblx0XHRmaXJzdFBvaW50RGVsdGE6IG51bWJlciA9IDAsXG5cdFx0bGFzdFBvaW50RGVsdGE6IG51bWJlciA9IDBcblx0KTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYE0ke2ZpcnN0UG9pbnQueH0sJHtmaXJzdFBvaW50Lnl9IEMgJHtmaXJzdFBvaW50LnggKyBmaXJzdFBvaW50RGVsdGF9LCR7Zmlyc3RQb2ludC55fSAke2xhc3RQb2ludC54ICtcblx0XHRcdGxhc3RQb2ludERlbHRhfSwke2xhc3RQb2ludC55fSAke2xhc3RQb2ludC54fSwke2xhc3RQb2ludC55fWA7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Ly9lbnN1cmUgaWQgaXMgcHJlc2VudCBmb3IgYWxsIHBvaW50cyBvbiB0aGUgcGF0aFxuXHRcdHZhciBwb2ludHMgPSB0aGlzLnByb3BzLmxpbmsucG9pbnRzO1xuXHRcdHZhciBwYXRocyA9IFtdO1xuXHRcdGxldCBtb2RlbCA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblxuXHRcdC8vZHJhdyB0aGUgc21vb3RoaW5nXG5cdFx0aWYgKHBvaW50cy5sZW5ndGggPT09IDIpIHtcblx0XHRcdC8vaWYgdGhlIHBvaW50cyBhcmUgdG9vIGNsb3NlLCBqdXN0IGRyYXcgYSBzdHJhaWdodCBsaW5lXG5cdFx0XHR2YXIgbWFyZ2luID0gNTA7XG5cdFx0XHRpZiAoTWF0aC5hYnMocG9pbnRzWzBdLnggLSBwb2ludHNbMV0ueCkgPCA1MCkge1xuXHRcdFx0XHRtYXJnaW4gPSA1O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcG9pbnRMZWZ0ID0gcG9pbnRzWzBdO1xuXHRcdFx0dmFyIHBvaW50UmlnaHQgPSBwb2ludHNbMV07XG5cblx0XHRcdC8vc29tZSBkZWZlbnNpdmUgcHJvZ3JhbW1pbmcgdG8gbWFrZSBzdXJlIHRoZSBzbW9vdGhpbmcgaXNcblx0XHRcdC8vYWx3YXlzIGluIHRoZSByaWdodCBkaXJlY3Rpb25cblx0XHRcdGlmIChwb2ludExlZnQueCA+IHBvaW50UmlnaHQueCkge1xuXHRcdFx0XHRwb2ludExlZnQgPSBwb2ludHNbMV07XG5cdFx0XHRcdHBvaW50UmlnaHQgPSBwb2ludHNbMF07XG5cdFx0XHR9XG5cblx0XHRcdHBhdGhzLnB1c2goXG5cdFx0XHRcdHRoaXMuZ2VuZXJhdGVMaW5rKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG9uTW91c2VEb3duOiAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRQb2ludFRvTGluayhldmVudCwgMSk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZDogdGhpcy5nZW5lcmF0ZUN1cnZlUGF0aChwb2ludExlZnQsIHBvaW50UmlnaHQsIG1hcmdpbiwgLW1hcmdpbilcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwiMFwiXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdFx0XHRpZiAodGhpcy5wcm9wcy5saW5rLnRhcmdldFBvcnQgPT09IG51bGwpIHtcblx0XHRcdFx0cGF0aHMucHVzaCh0aGlzLmdlbmVyYXRlUG9pbnQoMSkpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL2RyYXcgdGhlIG11bHRpcGxlIGFuY2hvcnMgYW5kIGNvbXBsZXggbGluZSBpbnN0ZWFkXG5cdFx0XHR2YXIgZHMgPSBbXTtcblx0XHRcdGlmICh0aGlzLnByb3BzLnNtb290aCkge1xuXHRcdFx0XHRkcy5wdXNoKHRoaXMuZ2VuZXJhdGVDdXJ2ZVBhdGgocG9pbnRzWzBdLCBwb2ludHNbMV0sIDUwLCAwKSk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDI7IGkrKykge1xuXHRcdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUxpbmVQYXRoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUN1cnZlUGF0aChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0sIDAsIC01MCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGRzID0gW107XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdFx0XHRcdGRzLnB1c2godGhpcy5nZW5lcmF0ZUxpbmVQYXRoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHBhdGhzID0gZHMubWFwKChkYXRhLCBpbmRleCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZUxpbmsoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XCJkYXRhLWxpbmtpZFwiOiB0aGlzLnByb3BzLmxpbmsuaWQsXG5cdFx0XHRcdFx0XHRcImRhdGEtcG9pbnRcIjogaW5kZXgsXG5cdFx0XHRcdFx0XHRcIm9uTW91c2VEb3duXCI6IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZFBvaW50VG9MaW5rKGV2ZW50LCBpbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwiZFwiOiBkYXRhXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRpbmRleFxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vcmVuZGVyIHRoZSBjaXJjbGVzXG5cdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcblx0XHRcdFx0cGF0aHMucHVzaCh0aGlzLmdlbmVyYXRlUG9pbnQoaSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5saW5rLnRhcmdldFBvcnQgPT09IG51bGwpIHtcblx0XHRcdFx0cGF0aHMucHVzaCh0aGlzLmdlbmVyYXRlUG9pbnQocG9pbnRzLmxlbmd0aCAtIDEpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gPGc+e3BhdGhzfTwvZz47XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdExpbmtXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFlQTs7QUFFQTtBQUNBO0FBQUE7QUFVQTtBQUFBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQUNBO0FBQ0E7O0FBQ0E7QUFnQkE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQVdBO0FBRUE7QUFBQTtBQUNBO0FBU0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBbk1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2TEE7QUFBQTtBQXJNQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar _ = __webpack_require__(0);\r\nvar DefaultPortLabelWidget_1 = __webpack_require__(14);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeWidget = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeWidget, _super);\r\n    function DefaultNodeWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    DefaultNodeWidget.prototype.generatePort = function (port) {\r\n        return React.createElement(DefaultPortLabelWidget_1.DefaultPortLabel, { model: port, key: port.id });\r\n    };\r\n    DefaultNodeWidget.prototype.render = function () {\r\n        return (React.createElement(\"div\", { className: \"basic-node\", style: { background: this.props.node.color } },\r\n            React.createElement(\"div\", { className: \"title\" },\r\n                React.createElement(\"div\", { className: \"name\" }, this.props.node.name)),\r\n            React.createElement(\"div\", { className: \"ports\" },\r\n                React.createElement(\"div\", { className: \"in\" }, _.map(this.props.node.getInPorts(), this.generatePort.bind(this))),\r\n                React.createElement(\"div\", { className: \"out\" }, _.map(this.props.node.getOutPorts(), this.generatePort.bind(this))))));\r\n    };\r\n    return DefaultNodeWidget;\r\n}(React.Component));\r\nexports.DefaultNodeWidget = DefaultNodeWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlV2lkZ2V0LnRzeD8zM2EzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBEZWZhdWx0Tm9kZU1vZGVsIH0gZnJvbSBcIi4vRGVmYXVsdE5vZGVNb2RlbFwiO1xuaW1wb3J0IHsgRGVmYXVsdFBvcnRMYWJlbCB9IGZyb20gXCIuL0RlZmF1bHRQb3J0TGFiZWxXaWRnZXRcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHROb2RlUHJvcHMge1xuXHRub2RlOiBEZWZhdWx0Tm9kZU1vZGVsO1xuXHRkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHROb2RlU3RhdGUge31cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHROb2RlV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERlZmF1bHROb2RlUHJvcHMsIERlZmF1bHROb2RlU3RhdGU+IHtcblx0Y29uc3RydWN0b3IocHJvcHM6IERlZmF1bHROb2RlUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0Z2VuZXJhdGVQb3J0KHBvcnQpIHtcblx0XHRyZXR1cm4gPERlZmF1bHRQb3J0TGFiZWwgbW9kZWw9e3BvcnR9IGtleT17cG9ydC5pZH0gLz47XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiYmFzaWMtbm9kZVwiIHN0eWxlPXt7IGJhY2tncm91bmQ6IHRoaXMucHJvcHMubm9kZS5jb2xvciB9fT5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwibmFtZVwiPnt0aGlzLnByb3BzLm5vZGUubmFtZX08L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9ydHNcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImluXCI+e18ubWFwKHRoaXMucHJvcHMubm9kZS5nZXRJblBvcnRzKCksIHRoaXMuZ2VuZXJhdGVQb3J0LmJpbmQodGhpcykpfTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3V0XCI+e18ubWFwKHRoaXMucHJvcHMubm9kZS5nZXRPdXRQb3J0cygpLCB0aGlzLmdlbmVyYXRlUG9ydC5iaW5kKHRoaXMpKX08L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlV2lkZ2V0LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUF2QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar PortWidget_1 = __webpack_require__(15);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultPortLabel = /** @class */ (function (_super) {\r\n    __extends(DefaultPortLabel, _super);\r\n    function DefaultPortLabel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultPortLabel.prototype.render = function () {\r\n        var port = React.createElement(PortWidget_1.PortWidget, { node: this.props.model.getParent(), name: this.props.model.name });\r\n        var label = React.createElement(\"div\", { className: \"name\" }, this.props.model.label);\r\n        return (React.createElement(\"div\", { className: (this.props.model.in ? \"in\" : \"out\") + \"-port\" },\r\n            this.props.model.in ? port : label,\r\n            this.props.model.in ? label : port));\r\n    };\r\n    DefaultPortLabel.defaultProps = {\r\n        in: true,\r\n        label: \"port\"\r\n    };\r\n    return DefaultPortLabel;\r\n}(React.Component));\r\nexports.DefaultPortLabel = DefaultPortLabel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRQb3J0TGFiZWxXaWRnZXQudHN4P2IwNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZWZhdWx0UG9ydE1vZGVsIH0gZnJvbSBcIi4vRGVmYXVsdFBvcnRNb2RlbFwiO1xuaW1wb3J0IHsgUG9ydFdpZGdldCB9IGZyb20gXCIuLi93aWRnZXRzL1BvcnRXaWRnZXRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0UG9ydExhYmVsUHJvcHMge1xuXHRtb2RlbD86IERlZmF1bHRQb3J0TW9kZWw7XG5cdGluPzogYm9vbGVhbjtcblx0bGFiZWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFBvcnRMYWJlbFN0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UG9ydExhYmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERlZmF1bHRQb3J0TGFiZWxQcm9wcywgRGVmYXVsdFBvcnRMYWJlbFN0YXRlPiB7XG5cdHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzOiBEZWZhdWx0UG9ydExhYmVsUHJvcHMgPSB7XG5cdFx0aW46IHRydWUsXG5cdFx0bGFiZWw6IFwicG9ydFwiXG5cdH07XG5cblx0cmVuZGVyKCkge1xuXHRcdHZhciBwb3J0ID0gPFBvcnRXaWRnZXQgbm9kZT17dGhpcy5wcm9wcy5tb2RlbC5nZXRQYXJlbnQoKX0gbmFtZT17dGhpcy5wcm9wcy5tb2RlbC5uYW1lfSAvPjtcblx0XHR2YXIgbGFiZWwgPSA8ZGl2IGNsYXNzTmFtZT1cIm5hbWVcIj57dGhpcy5wcm9wcy5tb2RlbC5sYWJlbH08L2Rpdj47XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9eyh0aGlzLnByb3BzLm1vZGVsLmluID8gXCJpblwiIDogXCJvdXRcIikgKyBcIi1wb3J0XCJ9PlxuXHRcdFx0XHR7dGhpcy5wcm9wcy5tb2RlbC5pbiA/IHBvcnQgOiBsYWJlbH1cblx0XHRcdFx0e3RoaXMucHJvcHMubW9kZWwuaW4gPyBsYWJlbCA6IHBvcnR9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHRQb3J0TGFiZWxXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBVUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7O0FBaUJBO0FBWEE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFmQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQUE7QUFqQkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar PortWidget = /** @class */ (function (_super) {\r\n    __extends(PortWidget, _super);\r\n    function PortWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            selected: false\r\n        };\r\n        return _this;\r\n    }\r\n    PortWidget.prototype.render = function () {\r\n        var _this = this;\r\n        return (React.createElement(\"div\", { onMouseEnter: function () {\r\n                _this.setState({ selected: true });\r\n            }, onMouseLeave: function () {\r\n                _this.setState({ selected: false });\r\n            }, className: \"port\" + (this.state.selected ? \" selected\" : \"\"), \"data-name\": this.props.name, \"data-nodeid\": this.props.node.getID() }));\r\n    };\r\n    return PortWidget;\r\n}(React.Component));\r\nexports.PortWidget = PortWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvUG9ydFdpZGdldC50c3g/NTM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Tm9kZU1vZGVsfSBmcm9tIFwiLi4vbW9kZWxzL05vZGVNb2RlbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvcnRQcm9wcyB7XG5cdG5hbWU6IHN0cmluZztcblx0bm9kZTogTm9kZU1vZGVsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvcnRTdGF0ZSB7XG5cdHNlbGVjdGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgUG9ydFdpZGdldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQb3J0UHJvcHMsIFBvcnRTdGF0ZT4ge1xuXHRjb25zdHJ1Y3Rvcihwcm9wczogUG9ydFByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHR9O1xuXHR9XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdG9uTW91c2VFbnRlcj17KCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZDogdHJ1ZSB9KTtcblx0XHRcdFx0fX1cblx0XHRcdFx0b25Nb3VzZUxlYXZlPXsoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkOiBmYWxzZSB9KTtcblx0XHRcdFx0fX1cblx0XHRcdFx0Y2xhc3NOYW1lPXtcInBvcnRcIiArICh0aGlzLnN0YXRlLnNlbGVjdGVkID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCIpfVxuXHRcdFx0XHRkYXRhLW5hbWU9e3RoaXMucHJvcHMubmFtZX1cblx0XHRcdFx0ZGF0YS1ub2RlaWQ9e3RoaXMucHJvcHMubm9kZS5nZXRJRCgpfVxuXHRcdFx0Lz5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3dpZGdldHMvUG9ydFdpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBWUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBdkJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseAction = /** @class */ (function () {\r\n    function BaseAction(mouseX, mouseY) {\r\n        this.mouseX = mouseX;\r\n        this.mouseY = mouseY;\r\n        this.ms = new Date().getTime();\r\n    }\r\n    return BaseAction;\r\n}());\r\nexports.BaseAction = BaseAction;\r\nvar SelectingAction = /** @class */ (function (_super) {\r\n    __extends(SelectingAction, _super);\r\n    function SelectingAction(mouseX, mouseY) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.mouseX2 = mouseX;\r\n        _this.mouseY2 = mouseY;\r\n        return _this;\r\n    }\r\n    SelectingAction.prototype.getBoxDimensions = function () {\r\n        return {\r\n            left: this.mouseX2 > this.mouseX ? this.mouseX : this.mouseX2,\r\n            top: this.mouseY2 > this.mouseY ? this.mouseY : this.mouseY2,\r\n            width: Math.abs(this.mouseX2 - this.mouseX),\r\n            height: Math.abs(this.mouseY2 - this.mouseY),\r\n            right: this.mouseX2 < this.mouseX ? this.mouseX : this.mouseX2,\r\n            bottom: this.mouseY2 < this.mouseY ? this.mouseY : this.mouseY2\r\n        };\r\n    };\r\n    SelectingAction.prototype.containsElement = function (x, y, diagramModel) {\r\n        var z = diagramModel.getZoomLevel() / 100.0;\r\n        var dimensions = this.getBoxDimensions();\r\n        return (x * z + diagramModel.getOffsetX() > dimensions.left &&\r\n            x * z + diagramModel.getOffsetX() < dimensions.right &&\r\n            y * z + diagramModel.getOffsetY() > dimensions.top &&\r\n            y * z + diagramModel.getOffsetY() < dimensions.bottom);\r\n    };\r\n    return SelectingAction;\r\n}(BaseAction));\r\nexports.SelectingAction = SelectingAction;\r\nvar MoveCanvasAction = /** @class */ (function (_super) {\r\n    __extends(MoveCanvasAction, _super);\r\n    function MoveCanvasAction(mouseX, mouseY, diagramModel) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.initialOffsetX = diagramModel.getOffsetX();\r\n        _this.initialOffsetY = diagramModel.getOffsetY();\r\n        return _this;\r\n    }\r\n    return MoveCanvasAction;\r\n}(BaseAction));\r\nexports.MoveCanvasAction = MoveCanvasAction;\r\nvar MoveItemsAction = /** @class */ (function (_super) {\r\n    __extends(MoveItemsAction, _super);\r\n    function MoveItemsAction(mouseX, mouseY, diagramEngine) {\r\n        var _this = _super.call(this, mouseX, mouseY) || this;\r\n        _this.moved = false;\r\n        diagramEngine.enableRepaintEntities(diagramEngine.getDiagramModel().getSelectedItems());\r\n        var selectedItems = diagramEngine.getDiagramModel().getSelectedItems();\r\n        //dont allow items which are locked to move\r\n        selectedItems = selectedItems.filter(function (item) {\r\n            return !diagramEngine.isModelLocked(item);\r\n        });\r\n        _this.selectionModels = selectedItems.map(function (item) {\r\n            return {\r\n                model: item,\r\n                initialX: item.x,\r\n                initialY: item.y\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n    return MoveItemsAction;\r\n}(BaseAction));\r\nexports.MoveItemsAction = MoveItemsAction;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbnZhc0FjdGlvbnMudHM/ZWUwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaWFncmFtTW9kZWwgfSBmcm9tIFwiLi9tb2RlbHMvRGlhZ3JhbU1vZGVsXCI7XG5pbXBvcnQgeyBEaWFncmFtRW5naW5lIH0gZnJvbSBcIi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0IHsgU2VsZWN0aW9uTW9kZWwgfSBmcm9tIFwiLi93aWRnZXRzL0RpYWdyYW1XaWRnZXRcIjtcbmltcG9ydCB7UG9pbnRNb2RlbH0gZnJvbSBcIi4vbW9kZWxzL1BvaW50TW9kZWxcIjtcbmltcG9ydCB7Tm9kZU1vZGVsfSBmcm9tIFwiLi9tb2RlbHMvTm9kZU1vZGVsXCI7XG5cbmV4cG9ydCBjbGFzcyBCYXNlQWN0aW9uIHtcblx0bW91c2VYOiBudW1iZXI7XG5cdG1vdXNlWTogbnVtYmVyO1xuXHRtczogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcikge1xuXHRcdHRoaXMubW91c2VYID0gbW91c2VYO1xuXHRcdHRoaXMubW91c2VZID0gbW91c2VZO1xuXHRcdHRoaXMubXMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0aW5nQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdG1vdXNlWDI6IG51bWJlcjtcblx0bW91c2VZMjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKG1vdXNlWDogbnVtYmVyLCBtb3VzZVk6IG51bWJlcikge1xuXHRcdHN1cGVyKG1vdXNlWCwgbW91c2VZKTtcblx0XHR0aGlzLm1vdXNlWDIgPSBtb3VzZVg7XG5cdFx0dGhpcy5tb3VzZVkyID0gbW91c2VZO1xuXHR9XG5cblx0Z2V0Qm94RGltZW5zaW9ucygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGVmdDogdGhpcy5tb3VzZVgyID4gdGhpcy5tb3VzZVggPyB0aGlzLm1vdXNlWCA6IHRoaXMubW91c2VYMixcblx0XHRcdHRvcDogdGhpcy5tb3VzZVkyID4gdGhpcy5tb3VzZVkgPyB0aGlzLm1vdXNlWSA6IHRoaXMubW91c2VZMixcblx0XHRcdHdpZHRoOiBNYXRoLmFicyh0aGlzLm1vdXNlWDIgLSB0aGlzLm1vdXNlWCksXG5cdFx0XHRoZWlnaHQ6IE1hdGguYWJzKHRoaXMubW91c2VZMiAtIHRoaXMubW91c2VZKSxcblx0XHRcdHJpZ2h0OiB0aGlzLm1vdXNlWDIgPCB0aGlzLm1vdXNlWCA/IHRoaXMubW91c2VYIDogdGhpcy5tb3VzZVgyLFxuXHRcdFx0Ym90dG9tOiB0aGlzLm1vdXNlWTIgPCB0aGlzLm1vdXNlWSA/IHRoaXMubW91c2VZIDogdGhpcy5tb3VzZVkyXG5cdFx0fTtcblx0fVxuXG5cdGNvbnRhaW5zRWxlbWVudCh4OiBudW1iZXIsIHk6IG51bWJlciwgZGlhZ3JhbU1vZGVsOiBEaWFncmFtTW9kZWwpOiBib29sZWFuIHtcblx0XHR2YXIgeiA9IGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wO1xuXHRcdGxldCBkaW1lbnNpb25zID0gdGhpcy5nZXRCb3hEaW1lbnNpb25zKCk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0eCAqIHogKyBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpID4gZGltZW5zaW9ucy5sZWZ0ICYmXG5cdFx0XHR4ICogeiArIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkgPCBkaW1lbnNpb25zLnJpZ2h0ICYmXG5cdFx0XHR5ICogeiArIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkgPiBkaW1lbnNpb25zLnRvcCAmJlxuXHRcdFx0eSAqIHogKyBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpIDwgZGltZW5zaW9ucy5ib3R0b21cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlQ2FudmFzQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdGluaXRpYWxPZmZzZXRYOiBudW1iZXI7XG5cdGluaXRpYWxPZmZzZXRZOiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IobW91c2VYOiBudW1iZXIsIG1vdXNlWTogbnVtYmVyLCBkaWFncmFtTW9kZWw6IERpYWdyYW1Nb2RlbCkge1xuXHRcdHN1cGVyKG1vdXNlWCwgbW91c2VZKTtcblx0XHR0aGlzLmluaXRpYWxPZmZzZXRYID0gZGlhZ3JhbU1vZGVsLmdldE9mZnNldFgoKTtcblx0XHR0aGlzLmluaXRpYWxPZmZzZXRZID0gZGlhZ3JhbU1vZGVsLmdldE9mZnNldFkoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZUl0ZW1zQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiB7XG5cdHNlbGVjdGlvbk1vZGVsczogU2VsZWN0aW9uTW9kZWxbXTtcblx0bW92ZWQ6IGJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IobW91c2VYOiBudW1iZXIsIG1vdXNlWTogbnVtYmVyLCBkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lKSB7XG5cdFx0c3VwZXIobW91c2VYLCBtb3VzZVkpO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHRkaWFncmFtRW5naW5lLmVuYWJsZVJlcGFpbnRFbnRpdGllcyhkaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKSk7XG5cdFx0dmFyIHNlbGVjdGVkSXRlbXMgPSBkaWFncmFtRW5naW5lLmdldERpYWdyYW1Nb2RlbCgpLmdldFNlbGVjdGVkSXRlbXMoKTtcblxuXHRcdC8vZG9udCBhbGxvdyBpdGVtcyB3aGljaCBhcmUgbG9ja2VkIHRvIG1vdmVcblx0XHRzZWxlY3RlZEl0ZW1zID0gc2VsZWN0ZWRJdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG5cdFx0XHRyZXR1cm4gIWRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChpdGVtKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuc2VsZWN0aW9uTW9kZWxzID0gc2VsZWN0ZWRJdGVtcy5tYXAoKGl0ZW06IFBvaW50TW9kZWwgfCBOb2RlTW9kZWwpID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1vZGVsOiBpdGVtLFxuXHRcdFx0XHRpbml0aWFsWDogaXRlbS54LFxuXHRcdFx0XHRpbml0aWFsWTogaXRlbS55XG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0NhbnZhc0FjdGlvbnMudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU1BO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFWQTtBQVlBO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFoQ0E7QUFrQ0E7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQVRBO0FBV0E7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQXZCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar LinkWidget_1 = __webpack_require__(18);\r\nvar _ = __webpack_require__(0);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkLayerWidget = /** @class */ (function (_super) {\r\n    __extends(LinkLayerWidget, _super);\r\n    function LinkLayerWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    LinkLayerWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramModel = this.props.diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"svg\", { style: {\r\n                transform: \"translate(\" +\r\n                    diagramModel.getOffsetX() +\r\n                    \"px,\" +\r\n                    diagramModel.getOffsetY() +\r\n                    \"px) scale(\" +\r\n                    diagramModel.getZoomLevel() / 100.0 +\r\n                    \")\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            } }, //only perform these actions when we have a diagram\r\n        this.props.diagramEngine.canvas &&\r\n            _.map(diagramModel.getLinks(), function (link) {\r\n                if (_this.props.diagramEngine.nodesRendered && !_this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id]) {\r\n                    if (link.sourcePort !== null) {\r\n                        try {\r\n                            link.points[0].updateLocation(_this.props.diagramEngine.getPortCenter(link.sourcePort));\r\n                            _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\r\n                        }\r\n                        catch (ex) { }\r\n                    }\r\n                    if (link.targetPort !== null) {\r\n                        try {\r\n                            _.last(link.points).updateLocation(_this.props.diagramEngine.getPortCenter(link.targetPort));\r\n                            _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\r\n                        }\r\n                        catch (ex) { }\r\n                    }\r\n                }\r\n                //generate links\r\n                var generatedLink = _this.props.diagramEngine.generateWidgetForLink(link);\r\n                if (!generatedLink) {\r\n                    console.log(\"no link generated for type: \" + link.getType());\r\n                    return null;\r\n                }\r\n                return (React.createElement(LinkWidget_1.LinkWidget, { key: link.getID(), link: link, diagramEngine: _this.props.diagramEngine }, React.cloneElement(generatedLink, {\r\n                    pointAdded: _this.props.pointAdded\r\n                })));\r\n            })));\r\n    };\r\n    return LinkLayerWidget;\r\n}(React.Component));\r\nexports.LinkLayerWidget = LinkLayerWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTGlua0xheWVyV2lkZ2V0LnRzeD8yYTAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG5pbXBvcnQgeyBMaW5rV2lkZ2V0IH0gZnJvbSBcIi4vTGlua1dpZGdldFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQge1BvaW50TW9kZWx9IGZyb20gXCIuLi9tb2RlbHMvUG9pbnRNb2RlbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtMYXllclByb3BzIHtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblx0cG9pbnRBZGRlZDogKHBvaW50OiBQb2ludE1vZGVsLCBldmVudCkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtMYXllclN0YXRlIHt9XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5rTGF5ZXJXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TGlua0xheWVyUHJvcHMsIExpbmtMYXllclN0YXRlPiB7XG5cdGNvbnN0cnVjdG9yKHByb3BzOiBMaW5rTGF5ZXJQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PHN2Z1xuXHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdHRyYW5zZm9ybTpcblx0XHRcdFx0XHRcdFwidHJhbnNsYXRlKFwiICtcblx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkgK1xuXHRcdFx0XHRcdFx0XCJweCxcIiArXG5cdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WSgpICtcblx0XHRcdFx0XHRcdFwicHgpIHNjYWxlKFwiICtcblx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wICtcblx0XHRcdFx0XHRcdFwiKVwiLFxuXHRcdFx0XHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRcdFx0XHRoZWlnaHQ6IFwiMTAwJVwiXG5cdFx0XHRcdH19XG5cdFx0XHQ+XG5cdFx0XHRcdHsvL29ubHkgcGVyZm9ybSB0aGVzZSBhY3Rpb25zIHdoZW4gd2UgaGF2ZSBhIGRpYWdyYW1cblx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmNhbnZhcyAmJlxuXHRcdFx0XHRcdF8ubWFwKGRpYWdyYW1Nb2RlbC5nZXRMaW5rcygpLCBsaW5rID0+IHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUubm9kZXNSZW5kZXJlZCAmJiAhdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSkge1xuXHRcdFx0XHRcdFx0XHRpZiAobGluay5zb3VyY2VQb3J0ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpbmsucG9pbnRzWzBdLnVwZGF0ZUxvY2F0aW9uKHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRQb3J0Q2VudGVyKGxpbmsuc291cmNlUG9ydCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHt9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGxpbmsudGFyZ2V0UG9ydCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfLmxhc3QobGluay5wb2ludHMpLnVwZGF0ZUxvY2F0aW9uKHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXRQb3J0Q2VudGVyKGxpbmsudGFyZ2V0UG9ydCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmlkXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXgpIHt9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly9nZW5lcmF0ZSBsaW5rc1xuXHRcdFx0XHRcdFx0dmFyIGdlbmVyYXRlZExpbmsgPSB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZ2VuZXJhdGVXaWRnZXRGb3JMaW5rKGxpbmspO1xuXHRcdFx0XHRcdFx0aWYgKCFnZW5lcmF0ZWRMaW5rKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwibm8gbGluayBnZW5lcmF0ZWQgZm9yIHR5cGU6IFwiICsgbGluay5nZXRUeXBlKCkpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0PExpbmtXaWRnZXQga2V5PXtsaW5rLmdldElEKCl9IGxpbms9e2xpbmt9IGRpYWdyYW1FbmdpbmU9e3RoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZX0+XG5cdFx0XHRcdFx0XHRcdFx0e1JlYWN0LmNsb25lRWxlbWVudChnZW5lcmF0ZWRMaW5rLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwb2ludEFkZGVkOiB0aGlzLnByb3BzLnBvaW50QWRkZWRcblx0XHRcdFx0XHRcdFx0XHR9KX1cblx0XHRcdFx0XHRcdFx0PC9MaW5rV2lkZ2V0PlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KX1cblx0XHRcdDwvc3ZnPlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvd2lkZ2V0cy9MaW5rTGF5ZXJXaWRnZXQudHN4Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQUE7QUEzREE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkWidget = /** @class */ (function (_super) {\r\n    __extends(LinkWidget, _super);\r\n    function LinkWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    LinkWidget.prototype.shouldComponentUpdate = function () {\r\n        return this.props.diagramEngine.canEntityRepaint(this.props.link);\r\n    };\r\n    LinkWidget.prototype.render = function () {\r\n        return this.props.children;\r\n    };\r\n    return LinkWidget;\r\n}(React.Component));\r\nexports.LinkWidget = LinkWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTGlua1dpZGdldC50c3g/ZTk5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0IHtMaW5rTW9kZWx9IGZyb20gXCIuLi9tb2RlbHMvTGlua01vZGVsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlua1Byb3BzIHtcblx0bGluazogTGlua01vZGVsO1xuXHRkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lO1xuXHRjaGlsZHJlbj86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5rU3RhdGUge31cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmtXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TGlua1Byb3BzLCBMaW5rU3RhdGU+IHtcblx0Y29uc3RydWN0b3IocHJvcHM6IExpbmtQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5jYW5FbnRpdHlSZXBhaW50KHRoaXMucHJvcHMubGluayk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvd2lkZ2V0cy9MaW5rV2lkZ2V0LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFZQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBYkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar _ = __webpack_require__(0);\r\nvar NodeWidget_1 = __webpack_require__(20);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar NodeLayerWidget = /** @class */ (function (_super) {\r\n    __extends(NodeLayerWidget, _super);\r\n    function NodeLayerWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    NodeLayerWidget.prototype.componentDidUpdate = function () {\r\n        this.props.diagramEngine.nodesRendered = true;\r\n    };\r\n    NodeLayerWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramModel = this.props.diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"div\", { className: \"node-view\", style: {\r\n                transform: \"translate(\" +\r\n                    diagramModel.getOffsetX() +\r\n                    \"px,\" +\r\n                    diagramModel.getOffsetY() +\r\n                    \"px) scale(\" +\r\n                    diagramModel.getZoomLevel() / 100.0 +\r\n                    \")\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            } }, _.map(diagramModel.getNodes(), function (node) {\r\n            return React.createElement(NodeWidget_1.NodeWidget, {\r\n                diagramEngine: _this.props.diagramEngine,\r\n                key: node.id,\r\n                node: node\r\n            }, _this.props.diagramEngine.generateWidgetForNode(node));\r\n        })));\r\n    };\r\n    return NodeLayerWidget;\r\n}(React.Component));\r\nexports.NodeLayerWidget = NodeLayerWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTm9kZUxheWVyV2lkZ2V0LnRzeD8xNTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGlhZ3JhbU1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9EaWFncmFtTW9kZWxcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBOb2RlV2lkZ2V0IH0gZnJvbSBcIi4vTm9kZVdpZGdldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVMYXllclByb3BzIHtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlTGF5ZXJTdGF0ZSB7fVxuXG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgTm9kZUxheWVyV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE5vZGVMYXllclByb3BzLCBOb2RlTGF5ZXJTdGF0ZT4ge1xuXHRjb25zdHJ1Y3Rvcihwcm9wczogTm9kZUxheWVyUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHt9O1xuXHR9XG5cblx0Y29tcG9uZW50RGlkVXBkYXRlKCl7XG5cdFx0dGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLm5vZGVzUmVuZGVyZWQgPSB0cnVlO1xuXHR9XG5cblx0cmVuZGVyKCkge1xuXHRcdHZhciBkaWFncmFtTW9kZWwgPSB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZ2V0RGlhZ3JhbU1vZGVsKCk7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXZcblx0XHRcdFx0Y2xhc3NOYW1lPVwibm9kZS12aWV3XCJcblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHR0cmFuc2Zvcm06XG5cdFx0XHRcdFx0XHRcInRyYW5zbGF0ZShcIiArXG5cdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpICtcblx0XHRcdFx0XHRcdFwicHgsXCIgK1xuXHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmdldE9mZnNldFkoKSArXG5cdFx0XHRcdFx0XHRcInB4KSBzY2FsZShcIiArXG5cdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgLyAxMDAuMCArXG5cdFx0XHRcdFx0XHRcIilcIixcblx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMCVcIlxuXHRcdFx0XHR9fVxuXHRcdFx0PlxuXHRcdFx0XHR7Xy5tYXAoZGlhZ3JhbU1vZGVsLmdldE5vZGVzKCksIG5vZGUgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRcdFx0Tm9kZVdpZGdldCxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbUVuZ2luZTogdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLFxuXHRcdFx0XHRcdFx0XHRrZXk6IG5vZGUuaWQsXG5cdFx0XHRcdFx0XHRcdG5vZGU6IG5vZGVcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZ2VuZXJhdGVXaWRnZXRGb3JOb2RlKG5vZGUpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3dpZGdldHMvTm9kZUxheWVyV2lkZ2V0LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBUUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQTFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar NodeWidget = /** @class */ (function (_super) {\r\n    __extends(NodeWidget, _super);\r\n    function NodeWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    NodeWidget.prototype.shouldComponentUpdate = function () {\r\n        return this.props.diagramEngine.canEntityRepaint(this.props.node);\r\n    };\r\n    NodeWidget.prototype.render = function () {\r\n        return (React.createElement(\"div\", { \"data-nodeid\": this.props.node.id, className: \"node\" + (this.props.node.isSelected() ? \" selected\" : \"\"), style: {\r\n                top: this.props.node.y,\r\n                left: this.props.node.x\r\n            } }, this.props.children));\r\n    };\r\n    return NodeWidget;\r\n}(React.Component));\r\nexports.NodeWidget = NodeWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvTm9kZVdpZGdldC50c3g/YjJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0IHtOb2RlTW9kZWx9IGZyb20gXCIuLi9tb2RlbHMvTm9kZU1vZGVsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVByb3BzIHtcblx0bm9kZTogTm9kZU1vZGVsO1xuXHRjaGlsZHJlbj86IGFueTtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlU3RhdGUge31cblxuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Tm9kZVByb3BzLCBOb2RlU3RhdGU+IHtcblx0Y29uc3RydWN0b3IocHJvcHM6IE5vZGVQcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge307XG5cdH1cblxuXHRzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5jYW5FbnRpdHlSZXBhaW50KHRoaXMucHJvcHMubm9kZSk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXZcblx0XHRcdFx0ZGF0YS1ub2RlaWQ9e3RoaXMucHJvcHMubm9kZS5pZH1cblx0XHRcdFx0Y2xhc3NOYW1lPXtcIm5vZGVcIiArICh0aGlzLnByb3BzLm5vZGUuaXNTZWxlY3RlZCgpID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCIpfVxuXHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdHRvcDogdGhpcy5wcm9wcy5ub2RlLnksXG5cdFx0XHRcdFx0bGVmdDogdGhpcy5wcm9wcy5ub2RlLnhcblx0XHRcdFx0fX1cblx0XHRcdD5cblx0XHRcdFx0e3RoaXMucHJvcHMuY2hpbGRyZW59XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3dpZGdldHMvTm9kZVdpZGdldC50c3giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBWUE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQXhCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//export defaults\r\n__export(__webpack_require__(22));\r\n__export(__webpack_require__(12));\r\n__export(__webpack_require__(25));\r\n__export(__webpack_require__(13));\r\n__export(__webpack_require__(26));\r\n__export(__webpack_require__(27));\r\n__export(__webpack_require__(14));\r\n__export(__webpack_require__(9));\r\n__export(__webpack_require__(10));\r\n__export(__webpack_require__(28));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(16));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(29));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(30));\r\n__export(__webpack_require__(17));\r\n__export(__webpack_require__(18));\r\n__export(__webpack_require__(19));\r\n__export(__webpack_require__(20));\r\n__export(__webpack_require__(15));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL21haW4udHM/OGNmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5cbi8vZXhwb3J0IGRlZmF1bHRzXG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0TGlua0ZhY3RvcnlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RlZmF1bHRzL0RlZmF1bHRMaW5rV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0Tm9kZUZhY3RvcnlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RlZmF1bHRzL0RlZmF1bHROb2RlV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0Tm9kZU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0UG9ydE1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kZWZhdWx0cy9EZWZhdWx0UG9ydExhYmVsV2lkZ2V0XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL1dpZGdldEZhY3Rvcmllc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vVG9vbGtpdFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9EaWFncmFtRW5naW5lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvRGlhZ3JhbU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9CYXNlRW50aXR5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9DYW52YXNBY3Rpb25zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9BYnN0cmFjdEluc3RhbmNlRmFjdG9yeVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vTGlua0luc3RhbmNlRmFjdG9yeVwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvQmFzZU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvRGlhZ3JhbU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvTGlua01vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvTm9kZU1vZGVsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tb2RlbHMvUG9pbnRNb2RlbFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbW9kZWxzL1BvcnRNb2RlbFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL0RpYWdyYW1XaWRnZXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3dpZGdldHMvTGlua0xheWVyV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL0xpbmtXaWRnZXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3dpZGdldHMvTm9kZUxheWVyV2lkZ2V0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRzL05vZGVXaWRnZXRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3dpZGdldHMvUG9ydFdpZGdldFwiO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9tYWluLnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7O0FBRUE7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar WidgetFactories_1 = __webpack_require__(9);\r\nvar React = __webpack_require__(1);\r\nvar DefaultLinkWidget_1 = __webpack_require__(12);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultLinkFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultLinkFactory, _super);\r\n    function DefaultLinkFactory() {\r\n        return _super.call(this, \"default\") || this;\r\n    }\r\n    DefaultLinkFactory.prototype.generateReactWidget = function (diagramEngine, link) {\r\n        return React.createElement(DefaultLinkWidget_1.DefaultLinkWidget, {\r\n            link: link,\r\n            diagramEngine: diagramEngine\r\n        });\r\n    };\r\n    return DefaultLinkFactory;\r\n}(WidgetFactories_1.LinkWidgetFactory));\r\nexports.DefaultLinkFactory = DefaultLinkFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRMaW5rRmFjdG9yeS50cz82ZTkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpbmtXaWRnZXRGYWN0b3J5IH0gZnJvbSBcIi4uL1dpZGdldEZhY3Rvcmllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZWZhdWx0TGlua1dpZGdldCB9IGZyb20gXCIuL0RlZmF1bHRMaW5rV2lkZ2V0XCI7XG5pbXBvcnQgeyBEaWFncmFtRW5naW5lIH0gZnJvbSBcIi4uL0RpYWdyYW1FbmdpbmVcIjtcbmltcG9ydCB7TGlua01vZGVsfSBmcm9tIFwiLi4vbW9kZWxzL0xpbmtNb2RlbFwiO1xuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRMaW5rRmFjdG9yeSBleHRlbmRzIExpbmtXaWRnZXRGYWN0b3J5IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJkZWZhdWx0XCIpO1xuXHR9XG5cblx0Z2VuZXJhdGVSZWFjdFdpZGdldChkaWFncmFtRW5naW5lOiBEaWFncmFtRW5naW5lLCBsaW5rOiBMaW5rTW9kZWwpOiBKU1guRWxlbWVudCB7XG5cdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdExpbmtXaWRnZXQsIHtcblx0XHRcdGxpbms6IGxpbmssXG5cdFx0XHRkaWFncmFtRW5naW5lOiBkaWFncmFtRW5naW5lXG5cdFx0fSk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdExpbmtGYWN0b3J5LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBWEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

eval("var matches = __webpack_require__(24)\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2xvc2VzdC9pbmRleC5qcz9iNmFmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXRjaGVzID0gcmVxdWlyZSgnbWF0Y2hlcy1zZWxlY3RvcicpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb1NlbGYpIHtcclxuICB2YXIgcGFyZW50ID0gY2hlY2tZb1NlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlXHJcblxyXG4gIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkge1xyXG4gICAgaWYgKG1hdGNoZXMocGFyZW50LCBzZWxlY3RvcikpIHJldHVybiBwYXJlbnQ7XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZVxyXG4gIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9jbG9zZXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/***/ (function(module, exports) {

eval("\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWF0Y2hlcy1zZWxlY3Rvci9pbmRleC5qcz8xNmUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogRWxlbWVudCBwcm90b3R5cGUuXHJcbiAqL1xyXG5cclxudmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogVmVuZG9yIGZ1bmN0aW9uLlxyXG4gKi9cclxuXHJcbnZhciB2ZW5kb3IgPSBwcm90by5tYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcclxuICB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvclxyXG4gIHx8IHByb3RvLm9NYXRjaGVzU2VsZWN0b3I7XHJcblxyXG4vKipcclxuICogRXhwb3NlIGBtYXRjaCgpYC5cclxuICovXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xyXG5cclxuLyoqXHJcbiAqIE1hdGNoIGBlbGAgdG8gYHNlbGVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBtYXRjaChlbCwgc2VsZWN0b3IpIHtcclxuICBpZiAodmVuZG9yKSByZXR1cm4gdmVuZG9yLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICB2YXIgbm9kZXMgPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGlmIChub2Rlc1tpXSA9PSBlbCkgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL21hdGNoZXMtc2VsZWN0b3IvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar WidgetFactories_1 = __webpack_require__(9);\r\nvar React = __webpack_require__(1);\r\nvar DefaultNodeWidget_1 = __webpack_require__(13);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeFactory, _super);\r\n    function DefaultNodeFactory() {\r\n        return _super.call(this, \"default\") || this;\r\n    }\r\n    DefaultNodeFactory.prototype.generateReactWidget = function (diagramEngine, node) {\r\n        return React.createElement(DefaultNodeWidget_1.DefaultNodeWidget, {\r\n            node: node,\r\n            diagramEngine: diagramEngine\r\n        });\r\n    };\r\n    return DefaultNodeFactory;\r\n}(WidgetFactories_1.NodeWidgetFactory));\r\nexports.DefaultNodeFactory = DefaultNodeFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlRmFjdG9yeS50cz85NzYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVXaWRnZXRGYWN0b3J5IH0gZnJvbSBcIi4uL1dpZGdldEZhY3Rvcmllc1wiO1xuaW1wb3J0IHsgRGVmYXVsdE5vZGVNb2RlbCB9IGZyb20gXCIuL0RlZmF1bHROb2RlTW9kZWxcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRGVmYXVsdE5vZGVXaWRnZXQgfSBmcm9tIFwiLi9EZWZhdWx0Tm9kZVdpZGdldFwiO1xuaW1wb3J0IHsgRGlhZ3JhbUVuZ2luZSB9IGZyb20gXCIuLi9EaWFncmFtRW5naW5lXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdE5vZGVGYWN0b3J5IGV4dGVuZHMgTm9kZVdpZGdldEZhY3Rvcnkge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcImRlZmF1bHRcIik7XG5cdH1cblxuXHRnZW5lcmF0ZVJlYWN0V2lkZ2V0KGRpYWdyYW1FbmdpbmU6IERpYWdyYW1FbmdpbmUsIG5vZGU6IERlZmF1bHROb2RlTW9kZWwpOiBKU1guRWxlbWVudCB7XG5cdFx0cmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdE5vZGVXaWRnZXQsIHtcblx0XHRcdG5vZGU6IG5vZGUsXG5cdFx0XHRkaWFncmFtRW5naW5lOiBkaWFncmFtRW5naW5lXG5cdFx0fSk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvZGVmYXVsdHMvRGVmYXVsdE5vZGVGYWN0b3J5LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBWEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = __webpack_require__(0);\r\nvar AbstractInstanceFactory_1 = __webpack_require__(6);\r\nvar NodeModel_1 = __webpack_require__(4);\r\nvar DefaultNodeInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeInstanceFactory, _super);\r\n    function DefaultNodeInstanceFactory() {\r\n        return _super.call(this, \"DefaultNodeModel\") || this;\r\n    }\r\n    DefaultNodeInstanceFactory.prototype.getInstance = function () {\r\n        return new DefaultNodeModel();\r\n    };\r\n    return DefaultNodeInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.DefaultNodeInstanceFactory = DefaultNodeInstanceFactory;\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultNodeModel = /** @class */ (function (_super) {\r\n    __extends(DefaultNodeModel, _super);\r\n    function DefaultNodeModel(name, color) {\r\n        if (name === void 0) { name = \"Untitled\"; }\r\n        if (color === void 0) { color = \"rgb(0,192,255)\"; }\r\n        var _this = _super.call(this, \"default\") || this;\r\n        _this.name = name;\r\n        _this.color = color;\r\n        return _this;\r\n    }\r\n    DefaultNodeModel.prototype.deSerialize = function (object) {\r\n        _super.prototype.deSerialize.call(this, object);\r\n        this.name = object.name;\r\n        this.color = object.color;\r\n    };\r\n    DefaultNodeModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            name: this.name,\r\n            color: this.color\r\n        });\r\n    };\r\n    DefaultNodeModel.prototype.getInPorts = function () {\r\n        return _.filter(this.ports, function (portModel) {\r\n            return portModel.in;\r\n        });\r\n    };\r\n    DefaultNodeModel.prototype.getOutPorts = function () {\r\n        return _.filter(this.ports, function (portModel) {\r\n            return !portModel.in;\r\n        });\r\n    };\r\n    return DefaultNodeModel;\r\n}(NodeModel_1.NodeModel));\r\nexports.DefaultNodeModel = DefaultNodeModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlTW9kZWwudHM/YmI0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWZhdWx0UG9ydE1vZGVsIH0gZnJvbSBcIi4vRGVmYXVsdFBvcnRNb2RlbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmltcG9ydCB7IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5IH0gZnJvbSBcIi4uL0Fic3RyYWN0SW5zdGFuY2VGYWN0b3J5XCI7XG5pbXBvcnQge05vZGVNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Ob2RlTW9kZWxcIjtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHROb2RlSW5zdGFuY2VGYWN0b3J5IGV4dGVuZHMgQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8RGVmYXVsdE5vZGVNb2RlbD4ge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcIkRlZmF1bHROb2RlTW9kZWxcIik7XG5cdH1cblxuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gbmV3IERlZmF1bHROb2RlTW9kZWwoKTtcblx0fVxufVxuXG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdE5vZGVNb2RlbCBleHRlbmRzIE5vZGVNb2RlbCB7XG5cdG5hbWU6IHN0cmluZztcblx0Y29sb3I6IHN0cmluZztcblx0cG9ydHM6IHsgW3M6IHN0cmluZ106IERlZmF1bHRQb3J0TW9kZWwgfTtcblxuXHRjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcgPSBcIlVudGl0bGVkXCIsIGNvbG9yOiBzdHJpbmcgPSBcInJnYigwLDE5MiwyNTUpXCIpIHtcblx0XHRzdXBlcihcImRlZmF1bHRcIik7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XG5cdH1cblxuXHRkZVNlcmlhbGl6ZShvYmplY3QpIHtcblx0XHRzdXBlci5kZVNlcmlhbGl6ZShvYmplY3QpO1xuXHRcdHRoaXMubmFtZSA9IG9iamVjdC5uYW1lO1xuXHRcdHRoaXMuY29sb3IgPSBvYmplY3QuY29sb3I7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIF8ubWVyZ2Uoc3VwZXIuc2VyaWFsaXplKCksIHtcblx0XHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRcdGNvbG9yOiB0aGlzLmNvbG9yXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRJblBvcnRzKCk6IERlZmF1bHRQb3J0TW9kZWxbXSB7XG5cdFx0cmV0dXJuIF8uZmlsdGVyKHRoaXMucG9ydHMsIHBvcnRNb2RlbCA9PiB7XG5cdFx0XHRyZXR1cm4gcG9ydE1vZGVsLmluO1xuXHRcdH0pO1xuXHR9XG5cblx0Z2V0T3V0UG9ydHMoKTogRGVmYXVsdFBvcnRNb2RlbFtdIHtcblx0XHRyZXR1cm4gXy5maWx0ZXIodGhpcy5wb3J0cywgcG9ydE1vZGVsID0+IHtcblx0XHRcdHJldHVybiAhcG9ydE1vZGVsLmluO1xuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHROb2RlTW9kZWwudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUkE7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBbkNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar _ = __webpack_require__(0);\r\nvar AbstractInstanceFactory_1 = __webpack_require__(6);\r\nvar PortModel_1 = __webpack_require__(7);\r\nvar DefaultPortInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(DefaultPortInstanceFactory, _super);\r\n    function DefaultPortInstanceFactory() {\r\n        return _super.call(this, \"DefaultPortModel\") || this;\r\n    }\r\n    DefaultPortInstanceFactory.prototype.getInstance = function () {\r\n        return new DefaultPortModel(true, \"unknown\");\r\n    };\r\n    return DefaultPortInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.DefaultPortInstanceFactory = DefaultPortInstanceFactory;\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DefaultPortModel = /** @class */ (function (_super) {\r\n    __extends(DefaultPortModel, _super);\r\n    function DefaultPortModel(isInput, name, label, id) {\r\n        if (label === void 0) { label = null; }\r\n        var _this = _super.call(this, name, id) || this;\r\n        _this.in = isInput;\r\n        _this.label = label || name;\r\n        return _this;\r\n    }\r\n    DefaultPortModel.prototype.deSerialize = function (object) {\r\n        _super.prototype.deSerialize.call(this, object);\r\n        this.in = object.in;\r\n        this.label = object.label;\r\n    };\r\n    DefaultPortModel.prototype.serialize = function () {\r\n        return _.merge(_super.prototype.serialize.call(this), {\r\n            in: this.in,\r\n            label: this.label\r\n        });\r\n    };\r\n    return DefaultPortModel;\r\n}(PortModel_1.PortModel));\r\nexports.DefaultPortModel = DefaultPortModel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2RlZmF1bHRzL0RlZmF1bHRQb3J0TW9kZWwudHM/MjA4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5IH0gZnJvbSBcIi4uL0Fic3RyYWN0SW5zdGFuY2VGYWN0b3J5XCI7XG5pbXBvcnQge1BvcnRNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Qb3J0TW9kZWxcIjtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRQb3J0SW5zdGFuY2VGYWN0b3J5IGV4dGVuZHMgQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8RGVmYXVsdFBvcnRNb2RlbD4ge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcIkRlZmF1bHRQb3J0TW9kZWxcIik7XG5cdH1cblxuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gbmV3IERlZmF1bHRQb3J0TW9kZWwodHJ1ZSwgXCJ1bmtub3duXCIpO1xuXHR9XG59XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UG9ydE1vZGVsIGV4dGVuZHMgUG9ydE1vZGVsIHtcblx0aW46IGJvb2xlYW47XG5cdGxhYmVsOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoaXNJbnB1dDogYm9vbGVhbiwgbmFtZTogc3RyaW5nLCBsYWJlbDogc3RyaW5nID0gbnVsbCwgaWQ/OiBzdHJpbmcpIHtcblx0XHRzdXBlcihuYW1lLCBpZCk7XG5cdFx0dGhpcy5pbiA9IGlzSW5wdXQ7XG5cdFx0dGhpcy5sYWJlbCA9IGxhYmVsIHx8IG5hbWU7XG5cdH1cblxuXHRkZVNlcmlhbGl6ZShvYmplY3QpIHtcblx0XHRzdXBlci5kZVNlcmlhbGl6ZShvYmplY3QpO1xuXHRcdHRoaXMuaW4gPSBvYmplY3QuaW47XG5cdFx0dGhpcy5sYWJlbCA9IG9iamVjdC5sYWJlbDtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4gXy5tZXJnZShzdXBlci5zZXJpYWxpemUoKSwge1xuXHRcdFx0aW46IHRoaXMuaW4sXG5cdFx0XHRsYWJlbDogdGhpcy5sYWJlbFxuXHRcdH0pO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2RlZmF1bHRzL0RlZmF1bHRQb3J0TW9kZWwudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUkE7QUFVQTs7QUFFQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUF0QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseEntity_1 = __webpack_require__(5);\r\nvar DiagramModel_1 = __webpack_require__(11);\r\nvar _ = __webpack_require__(0);\r\nvar NodeModel_1 = __webpack_require__(4);\r\nvar PointModel_1 = __webpack_require__(2);\r\nvar PortModel_1 = __webpack_require__(7);\r\n/**\r\n * Passed as a parameter to the DiagramWidget\r\n */\r\nvar DiagramEngine = /** @class */ (function (_super) {\r\n    __extends(DiagramEngine, _super);\r\n    function DiagramEngine() {\r\n        var _this = _super.call(this) || this;\r\n        _this.diagramModel = new DiagramModel_1.DiagramModel();\r\n        _this.nodeFactories = {};\r\n        _this.linkFactories = {};\r\n        _this.instanceFactories = {};\r\n        _this.canvas = null;\r\n        _this.paintableWidgets = null;\r\n        _this.linksThatHaveInitiallyRendered = {};\r\n        return _this;\r\n    }\r\n    DiagramEngine.prototype.repaintCanvas = function () {\r\n        this.iterateListeners(function (listener) {\r\n            listener.repaintCanvas && listener.repaintCanvas();\r\n        });\r\n    };\r\n    DiagramEngine.prototype.clearRepaintEntities = function () {\r\n        this.paintableWidgets = null;\r\n    };\r\n    DiagramEngine.prototype.enableRepaintEntities = function (entities) {\r\n        var _this = this;\r\n        this.paintableWidgets = {};\r\n        entities.forEach(function (entity) {\r\n            //if a node is requested to repaint, add all of its links\r\n            if (entity instanceof NodeModel_1.NodeModel) {\r\n                _.forEach(entity.getPorts(), function (port) {\r\n                    _.forEach(port.getLinks(), function (link) {\r\n                        _this.paintableWidgets[link.getID()] = true;\r\n                    });\r\n                });\r\n            }\r\n            if (entity instanceof PointModel_1.PointModel) {\r\n                _this.paintableWidgets[entity.getLink().getID()] = true;\r\n            }\r\n            _this.paintableWidgets[entity.getID()] = true;\r\n        });\r\n    };\r\n    /**\r\n     * Checks to see if a model is locked by running through\r\n     * its parents to see if they are locked first\r\n     */\r\n    DiagramEngine.prototype.isModelLocked = function (model) {\r\n        //always check the diagram model\r\n        if (this.diagramModel.isLocked()) {\r\n            return true;\r\n        }\r\n        //a point is locked, if its model is locked\r\n        if (model instanceof PortModel_1.PortModel) {\r\n            if (model.getParent().isLocked()) {\r\n                return true;\r\n            }\r\n        }\r\n        //a point is locked, if its model is locked\r\n        if (model instanceof PointModel_1.PointModel) {\r\n            if (model.getLink().isLocked()) {\r\n                return true;\r\n            }\r\n        }\r\n        return model.isLocked();\r\n    };\r\n    DiagramEngine.prototype.recalculatePortsVisually = function () {\r\n        this.nodesRendered = false;\r\n        this.linksThatHaveInitiallyRendered = {};\r\n    };\r\n    DiagramEngine.prototype.canEntityRepaint = function (baseModel) {\r\n        //no rules applied, allow repaint\r\n        if (this.paintableWidgets === null) {\r\n            return true;\r\n        }\r\n        return this.paintableWidgets[baseModel.getID()] !== undefined;\r\n    };\r\n    DiagramEngine.prototype.setCanvas = function (canvas) {\r\n        this.canvas = canvas;\r\n    };\r\n    DiagramEngine.prototype.setDiagramModel = function (model) {\r\n        this.diagramModel = model;\r\n        this.recalculatePortsVisually();\r\n    };\r\n    DiagramEngine.prototype.getDiagramModel = function () {\r\n        return this.diagramModel;\r\n    };\r\n    DiagramEngine.prototype.getNodeFactories = function () {\r\n        return this.nodeFactories;\r\n    };\r\n    DiagramEngine.prototype.getLinkFactories = function () {\r\n        return this.linkFactories;\r\n    };\r\n    DiagramEngine.prototype.getInstanceFactory = function (className) {\r\n        return this.instanceFactories[className];\r\n    };\r\n    DiagramEngine.prototype.registerInstanceFactory = function (factory) {\r\n        this.instanceFactories[factory.getName()] = factory;\r\n    };\r\n    DiagramEngine.prototype.registerNodeFactory = function (factory) {\r\n        this.nodeFactories[factory.getType()] = factory;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.nodeFactoriesUpdated) {\r\n                listener.nodeFactoriesUpdated();\r\n            }\r\n        });\r\n    };\r\n    DiagramEngine.prototype.registerLinkFactory = function (factory) {\r\n        this.linkFactories[factory.getType()] = factory;\r\n        this.iterateListeners(function (listener) {\r\n            if (listener.linkFactoriesUpdated) {\r\n                listener.linkFactoriesUpdated();\r\n            }\r\n        });\r\n    };\r\n    DiagramEngine.prototype.getFactoryForNode = function (node) {\r\n        if (this.nodeFactories[node.getType()]) {\r\n            return this.nodeFactories[node.getType()];\r\n        }\r\n        console.log(\"cannot find widget factory for node of type: [\" + node.getType() + \"]\");\r\n        return null;\r\n    };\r\n    DiagramEngine.prototype.getFactoryForLink = function (link) {\r\n        if (this.linkFactories[link.getType()]) {\r\n            return this.linkFactories[link.getType()];\r\n        }\r\n        console.log(\"cannot find widget factory for link of type: [\" + link.getType() + \"]\");\r\n        return null;\r\n    };\r\n    DiagramEngine.prototype.generateWidgetForLink = function (link) {\r\n        var linkFactory = this.getFactoryForLink(link);\r\n        if (!linkFactory) {\r\n            throw new Error(\"Cannot find link factory for link: \" + link.getType());\r\n        }\r\n        return linkFactory.generateReactWidget(this, link);\r\n    };\r\n    DiagramEngine.prototype.generateWidgetForNode = function (node) {\r\n        var nodeFactory = this.getFactoryForNode(node);\r\n        if (!nodeFactory) {\r\n            throw new Error(\"Cannot find widget factory for node: \" + node.getType());\r\n        }\r\n        return nodeFactory.generateReactWidget(this, node);\r\n    };\r\n    DiagramEngine.prototype.getRelativeMousePoint = function (event) {\r\n        var point = this.getRelativePoint(event.clientX, event.clientY);\r\n        return {\r\n            x: (point.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\r\n            y: (point.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\r\n        };\r\n    };\r\n    DiagramEngine.prototype.getRelativePoint = function (x, y) {\r\n        var canvasRect = this.canvas.getBoundingClientRect();\r\n        return { x: x - canvasRect.left, y: y - canvasRect.top };\r\n    };\r\n    DiagramEngine.prototype.getNodePortElement = function (port) {\r\n        var selector = this.canvas.querySelector('.port[data-name=\"' + port.getName() + '\"][data-nodeid=\"' + port.getParent().getID() + '\"]');\r\n        if (selector === null) {\r\n            throw new Error(\"Cannot find Node Port element with nodeID: [\" +\r\n                port.getParent().getID() +\r\n                \"] and name: [\" +\r\n                port.getName() +\r\n                \"]\");\r\n        }\r\n        return selector;\r\n    };\r\n    DiagramEngine.prototype.getPortCenter = function (port) {\r\n        var sourceElement = this.getNodePortElement(port);\r\n        var sourceRect = sourceElement.getBoundingClientRect();\r\n        var rel = this.getRelativePoint(sourceRect.left, sourceRect.top);\r\n        return {\r\n            x: sourceElement.offsetWidth / 2 +\r\n                (rel.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\r\n            y: sourceElement.offsetHeight / 2 +\r\n                (rel.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\r\n        };\r\n    };\r\n    DiagramEngine.prototype.getMaxNumberPointsPerLink = function () {\r\n        return this.maxNumberPointsPerLink;\r\n    };\r\n    DiagramEngine.prototype.setMaxNumberPointsPerLink = function (max) {\r\n        this.maxNumberPointsPerLink = max;\r\n    };\r\n    DiagramEngine.prototype.zoomToFit = function () {\r\n        var xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;\r\n        var yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;\r\n        var zoomFactor = xFactor < yFactor ? xFactor : yFactor;\r\n        this.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel() * zoomFactor);\r\n        this.diagramModel.setOffset(0, 0);\r\n        this.repaintCanvas();\r\n    };\r\n    return DiagramEngine;\r\n}(BaseEntity_1.BaseEntity));\r\nexports.DiagramEngine = DiagramEngine;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0RpYWdyYW1FbmdpbmUudHM/MDY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlV2lkZ2V0RmFjdG9yeSwgTGlua1dpZGdldEZhY3RvcnkgfSBmcm9tIFwiLi9XaWRnZXRGYWN0b3JpZXNcIjtcbmltcG9ydCB7IEJhc2VFbnRpdHksIEJhc2VMaXN0ZW5lciB9IGZyb20gXCIuL0Jhc2VFbnRpdHlcIjtcbmltcG9ydCB7IERpYWdyYW1Nb2RlbCB9IGZyb20gXCIuL21vZGVscy9EaWFncmFtTW9kZWxcIjtcbmltcG9ydCB7IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5IH0gZnJvbSBcIi4vQWJzdHJhY3RJbnN0YW5jZUZhY3RvcnlcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHtCYXNlTW9kZWwsIEJhc2VNb2RlbExpc3RlbmVyfSBmcm9tIFwiLi9tb2RlbHMvQmFzZU1vZGVsXCI7XG5pbXBvcnQge05vZGVNb2RlbH0gZnJvbSBcIi4vbW9kZWxzL05vZGVNb2RlbFwiO1xuaW1wb3J0IHtQb2ludE1vZGVsfSBmcm9tIFwiLi9tb2RlbHMvUG9pbnRNb2RlbFwiO1xuaW1wb3J0IHtQb3J0TW9kZWx9IGZyb20gXCIuL21vZGVscy9Qb3J0TW9kZWxcIjtcbmltcG9ydCB7TGlua01vZGVsfSBmcm9tIFwiLi9tb2RlbHMvTGlua01vZGVsXCI7XG4vKipcbiAqIEBhdXRob3IgRHlsYW4gVm9yc3RlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIERpYWdyYW1FbmdpbmVMaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG5cdG5vZGVGYWN0b3JpZXNVcGRhdGVkPygpOiB2b2lkO1xuXG5cdGxpbmtGYWN0b3JpZXNVcGRhdGVkPygpOiB2b2lkO1xuXG5cdHJlcGFpbnRDYW52YXM/KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogUGFzc2VkIGFzIGEgcGFyYW1ldGVyIHRvIHRoZSBEaWFncmFtV2lkZ2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFncmFtRW5naW5lIGV4dGVuZHMgQmFzZUVudGl0eTxEaWFncmFtRW5naW5lTGlzdGVuZXI+IHtcblx0bm9kZUZhY3RvcmllczogeyBbczogc3RyaW5nXTogTm9kZVdpZGdldEZhY3RvcnkgfTtcblx0bGlua0ZhY3RvcmllczogeyBbczogc3RyaW5nXTogTGlua1dpZGdldEZhY3RvcnkgfTtcblx0aW5zdGFuY2VGYWN0b3JpZXM6IHtcblx0XHRbczogc3RyaW5nXTogQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8QmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+Pjtcblx0fTtcblxuXHRkaWFncmFtTW9kZWw6IERpYWdyYW1Nb2RlbDtcblx0Y2FudmFzOiBFbGVtZW50O1xuXHRwYWludGFibGVXaWRnZXRzOiB7fTtcblx0bGlua3NUaGF0SGF2ZUluaXRpYWxseVJlbmRlcmVkOiB7fTtcblx0bm9kZXNSZW5kZXJlZDogYm9vbGVhbjtcblx0bWF4TnVtYmVyUG9pbnRzUGVyTGluazogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5kaWFncmFtTW9kZWwgPSBuZXcgRGlhZ3JhbU1vZGVsKCk7XG5cdFx0dGhpcy5ub2RlRmFjdG9yaWVzID0ge307XG5cdFx0dGhpcy5saW5rRmFjdG9yaWVzID0ge307XG5cdFx0dGhpcy5pbnN0YW5jZUZhY3RvcmllcyA9IHt9O1xuXHRcdHRoaXMuY2FudmFzID0gbnVsbDtcblx0XHR0aGlzLnBhaW50YWJsZVdpZGdldHMgPSBudWxsO1xuXHRcdHRoaXMubGlua3NUaGF0SGF2ZUluaXRpYWxseVJlbmRlcmVkID0ge307XG5cdH1cblxuXHRyZXBhaW50Q2FudmFzKCkge1xuXHRcdHRoaXMuaXRlcmF0ZUxpc3RlbmVycygobGlzdGVuZXIpID0+IHtcblx0XHRcdGxpc3RlbmVyLnJlcGFpbnRDYW52YXMgJiYgbGlzdGVuZXIucmVwYWludENhbnZhcygpO1xuXHRcdH0pO1xuXHR9XG5cblx0Y2xlYXJSZXBhaW50RW50aXRpZXMoKSB7XG5cdFx0dGhpcy5wYWludGFibGVXaWRnZXRzID0gbnVsbDtcblx0fVxuXG5cdGVuYWJsZVJlcGFpbnRFbnRpdGllcyhlbnRpdGllczogQmFzZU1vZGVsPEJhc2VNb2RlbExpc3RlbmVyPltdKSB7XG5cdFx0dGhpcy5wYWludGFibGVXaWRnZXRzID0ge307XG5cdFx0ZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG5cdFx0XHQvL2lmIGEgbm9kZSBpcyByZXF1ZXN0ZWQgdG8gcmVwYWludCwgYWRkIGFsbCBvZiBpdHMgbGlua3Ncblx0XHRcdGlmIChlbnRpdHkgaW5zdGFuY2VvZiBOb2RlTW9kZWwpIHtcblx0XHRcdFx0Xy5mb3JFYWNoKGVudGl0eS5nZXRQb3J0cygpLCAocG9ydCkgPT4ge1xuXHRcdFx0XHRcdF8uZm9yRWFjaChwb3J0LmdldExpbmtzKCksIChsaW5rKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBhaW50YWJsZVdpZGdldHNbbGluay5nZXRJRCgpXSA9IHRydWU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZW50aXR5IGluc3RhbmNlb2YgUG9pbnRNb2RlbCkge1xuXHRcdFx0XHR0aGlzLnBhaW50YWJsZVdpZGdldHNbZW50aXR5LmdldExpbmsoKS5nZXRJRCgpXSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucGFpbnRhYmxlV2lkZ2V0c1tlbnRpdHkuZ2V0SUQoKV0gPSB0cnVlO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyB0byBzZWUgaWYgYSBtb2RlbCBpcyBsb2NrZWQgYnkgcnVubmluZyB0aHJvdWdoXG5cdCAqIGl0cyBwYXJlbnRzIHRvIHNlZSBpZiB0aGV5IGFyZSBsb2NrZWQgZmlyc3Rcblx0ICovXG5cdGlzTW9kZWxMb2NrZWQobW9kZWw6IEJhc2VFbnRpdHk8QmFzZUxpc3RlbmVyPikge1xuXHRcdC8vYWx3YXlzIGNoZWNrIHRoZSBkaWFncmFtIG1vZGVsXG5cdFx0aWYgKHRoaXMuZGlhZ3JhbU1vZGVsLmlzTG9ja2VkKCkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vYSBwb2ludCBpcyBsb2NrZWQsIGlmIGl0cyBtb2RlbCBpcyBsb2NrZWRcblx0XHRpZiAobW9kZWwgaW5zdGFuY2VvZiBQb3J0TW9kZWwpIHtcblx0XHRcdGlmIChtb2RlbC5nZXRQYXJlbnQoKS5pc0xvY2tlZCgpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vYSBwb2ludCBpcyBsb2NrZWQsIGlmIGl0cyBtb2RlbCBpcyBsb2NrZWRcblx0XHRpZiAobW9kZWwgaW5zdGFuY2VvZiBQb2ludE1vZGVsKSB7XG5cdFx0XHRpZiAobW9kZWwuZ2V0TGluaygpLmlzTG9ja2VkKCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1vZGVsLmlzTG9ja2VkKCk7XG5cdH1cblxuXHRyZWNhbGN1bGF0ZVBvcnRzVmlzdWFsbHkoKXtcblx0XHR0aGlzLm5vZGVzUmVuZGVyZWQgPSBmYWxzZTtcblx0XHR0aGlzLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZCA9IHt9O1xuXHR9XG5cblx0Y2FuRW50aXR5UmVwYWludChiYXNlTW9kZWw6IEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj4pIHtcblx0XHQvL25vIHJ1bGVzIGFwcGxpZWQsIGFsbG93IHJlcGFpbnRcblx0XHRpZiAodGhpcy5wYWludGFibGVXaWRnZXRzID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wYWludGFibGVXaWRnZXRzW2Jhc2VNb2RlbC5nZXRJRCgpXSAhPT0gdW5kZWZpbmVkO1xuXHR9XG5cblx0c2V0Q2FudmFzKGNhbnZhczogRWxlbWVudCB8IG51bGwpIHtcblx0XHR0aGlzLmNhbnZhcyA9IGNhbnZhcztcblx0fVxuXG5cdHNldERpYWdyYW1Nb2RlbChtb2RlbDogRGlhZ3JhbU1vZGVsKSB7XG5cdFx0dGhpcy5kaWFncmFtTW9kZWwgPSBtb2RlbDtcblx0XHR0aGlzLnJlY2FsY3VsYXRlUG9ydHNWaXN1YWxseSgpO1xuXHR9XG5cblx0Z2V0RGlhZ3JhbU1vZGVsKCk6IERpYWdyYW1Nb2RlbCB7XG5cdFx0cmV0dXJuIHRoaXMuZGlhZ3JhbU1vZGVsO1xuXHR9XG5cblx0Z2V0Tm9kZUZhY3RvcmllcygpOiB7IFtzOiBzdHJpbmddOiBOb2RlV2lkZ2V0RmFjdG9yeSB9IHtcblx0XHRyZXR1cm4gdGhpcy5ub2RlRmFjdG9yaWVzO1xuXHR9XG5cblx0Z2V0TGlua0ZhY3RvcmllcygpOiB7IFtzOiBzdHJpbmddOiBMaW5rV2lkZ2V0RmFjdG9yeSB9IHtcblx0XHRyZXR1cm4gdGhpcy5saW5rRmFjdG9yaWVzO1xuXHR9XG5cblx0Z2V0SW5zdGFuY2VGYWN0b3J5KGNsYXNzTmFtZTogc3RyaW5nKTogQWJzdHJhY3RJbnN0YW5jZUZhY3Rvcnk8QmFzZUVudGl0eTxCYXNlTGlzdGVuZXI+PiB7XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VGYWN0b3JpZXNbY2xhc3NOYW1lXTtcblx0fVxuXG5cdHJlZ2lzdGVySW5zdGFuY2VGYWN0b3J5KGZhY3Rvcnk6IEFic3RyYWN0SW5zdGFuY2VGYWN0b3J5PEJhc2VFbnRpdHk8QmFzZUxpc3RlbmVyPj4pIHtcblx0XHR0aGlzLmluc3RhbmNlRmFjdG9yaWVzW2ZhY3RvcnkuZ2V0TmFtZSgpXSA9IGZhY3Rvcnk7XG5cdH1cblxuXHRyZWdpc3Rlck5vZGVGYWN0b3J5KGZhY3Rvcnk6IE5vZGVXaWRnZXRGYWN0b3J5KSB7XG5cdFx0dGhpcy5ub2RlRmFjdG9yaWVzW2ZhY3RvcnkuZ2V0VHlwZSgpXSA9IGZhY3Rvcnk7XG5cdFx0dGhpcy5pdGVyYXRlTGlzdGVuZXJzKChsaXN0ZW5lcikgPT4ge1xuXHRcdFx0aWYgKGxpc3RlbmVyLm5vZGVGYWN0b3JpZXNVcGRhdGVkKSB7IGxpc3RlbmVyLm5vZGVGYWN0b3JpZXNVcGRhdGVkKCk7IH1cblx0XHR9KTtcblx0fVxuXG5cdHJlZ2lzdGVyTGlua0ZhY3RvcnkoZmFjdG9yeTogTGlua1dpZGdldEZhY3RvcnkpIHtcblx0XHR0aGlzLmxpbmtGYWN0b3JpZXNbZmFjdG9yeS5nZXRUeXBlKCldID0gZmFjdG9yeTtcblx0XHR0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3RlbmVyKSA9PiB7XG5cdFx0XHRpZiAobGlzdGVuZXIubGlua0ZhY3Rvcmllc1VwZGF0ZWQpIHsgbGlzdGVuZXIubGlua0ZhY3Rvcmllc1VwZGF0ZWQoKTsgfVxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0RmFjdG9yeUZvck5vZGUobm9kZTogTm9kZU1vZGVsKTogTm9kZVdpZGdldEZhY3RvcnkgfCBudWxsIHtcblx0XHRpZiAodGhpcy5ub2RlRmFjdG9yaWVzW25vZGUuZ2V0VHlwZSgpXSkge1xuXHRcdFx0cmV0dXJuIHRoaXMubm9kZUZhY3Rvcmllc1tub2RlLmdldFR5cGUoKV07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwiY2Fubm90IGZpbmQgd2lkZ2V0IGZhY3RvcnkgZm9yIG5vZGUgb2YgdHlwZTogW1wiICsgbm9kZS5nZXRUeXBlKCkgKyBcIl1cIik7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRnZXRGYWN0b3J5Rm9yTGluayhsaW5rOiBMaW5rTW9kZWwpOiBMaW5rV2lkZ2V0RmFjdG9yeSB8IG51bGwge1xuXHRcdGlmICh0aGlzLmxpbmtGYWN0b3JpZXNbbGluay5nZXRUeXBlKCldKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5saW5rRmFjdG9yaWVzW2xpbmsuZ2V0VHlwZSgpXTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCJjYW5ub3QgZmluZCB3aWRnZXQgZmFjdG9yeSBmb3IgbGluayBvZiB0eXBlOiBbXCIgKyBsaW5rLmdldFR5cGUoKSArIFwiXVwiKTtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdlbmVyYXRlV2lkZ2V0Rm9yTGluayhsaW5rOiBMaW5rTW9kZWwpOiBKU1guRWxlbWVudCB8IG51bGwge1xuXHRcdHZhciBsaW5rRmFjdG9yeSA9IHRoaXMuZ2V0RmFjdG9yeUZvckxpbmsobGluayk7XG5cdFx0aWYgKCFsaW5rRmFjdG9yeSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbGluayBmYWN0b3J5IGZvciBsaW5rOiBcIiArIGxpbmsuZ2V0VHlwZSgpKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxpbmtGYWN0b3J5LmdlbmVyYXRlUmVhY3RXaWRnZXQodGhpcywgbGluayk7XG5cdH1cblxuXHRnZW5lcmF0ZVdpZGdldEZvck5vZGUobm9kZTogTm9kZU1vZGVsKTogSlNYLkVsZW1lbnQgfCBudWxsIHtcblx0XHR2YXIgbm9kZUZhY3RvcnkgPSB0aGlzLmdldEZhY3RvcnlGb3JOb2RlKG5vZGUpO1xuXHRcdGlmICghbm9kZUZhY3RvcnkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIHdpZGdldCBmYWN0b3J5IGZvciBub2RlOiBcIiArIG5vZGUuZ2V0VHlwZSgpKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vZGVGYWN0b3J5LmdlbmVyYXRlUmVhY3RXaWRnZXQodGhpcywgbm9kZSk7XG5cdH1cblxuXHRnZXRSZWxhdGl2ZU1vdXNlUG9pbnQoZXZlbnQpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuXHRcdHZhciBwb2ludCA9IHRoaXMuZ2V0UmVsYXRpdmVQb2ludChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogKHBvaW50LnggLSB0aGlzLmRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRYKCkpIC8gKHRoaXMuZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwLjApLFxuXHRcdFx0eTogKHBvaW50LnkgLSB0aGlzLmRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkpIC8gKHRoaXMuZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwLjApXG5cdFx0fTtcblx0fVxuXG5cdGdldFJlbGF0aXZlUG9pbnQoeCwgeSkge1xuXHRcdHZhciBjYW52YXNSZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0cmV0dXJuIHsgeDogeCAtIGNhbnZhc1JlY3QubGVmdCwgeTogeSAtIGNhbnZhc1JlY3QudG9wIH07XG5cdH1cblxuXHRnZXROb2RlUG9ydEVsZW1lbnQocG9ydDogUG9ydE1vZGVsKTogYW55IHtcblx0XHR2YXIgc2VsZWN0b3IgPSB0aGlzLmNhbnZhcy5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0Jy5wb3J0W2RhdGEtbmFtZT1cIicgKyBwb3J0LmdldE5hbWUoKSArICdcIl1bZGF0YS1ub2RlaWQ9XCInICsgcG9ydC5nZXRQYXJlbnQoKS5nZXRJRCgpICsgJ1wiXSdcblx0XHQpO1xuXHRcdGlmIChzZWxlY3RvciA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgTm9kZSBQb3J0IGVsZW1lbnQgd2l0aCBub2RlSUQ6IFtcIiArXG5cdFx0XHRcdHBvcnQuZ2V0UGFyZW50KCkuZ2V0SUQoKSArXG5cdFx0XHRcdFwiXSBhbmQgbmFtZTogW1wiICtcblx0XHRcdFx0cG9ydC5nZXROYW1lKCkgK1xuXHRcdFx0XHRcIl1cIik7XG5cdFx0fVxuXHRcdHJldHVybiBzZWxlY3Rvcjtcblx0fVxuXG5cdGdldFBvcnRDZW50ZXIocG9ydDogUG9ydE1vZGVsKSB7XG5cdFx0dmFyIHNvdXJjZUVsZW1lbnQgPSB0aGlzLmdldE5vZGVQb3J0RWxlbWVudChwb3J0KTtcblx0XHR2YXIgc291cmNlUmVjdCA9IHNvdXJjZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHR2YXIgcmVsID0gdGhpcy5nZXRSZWxhdGl2ZVBvaW50KHNvdXJjZVJlY3QubGVmdCwgc291cmNlUmVjdC50b3ApO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6XG5cdFx0XHRcdHNvdXJjZUVsZW1lbnQub2Zmc2V0V2lkdGggLyAyICtcblx0XHRcdFx0KHJlbC54IC0gdGhpcy5kaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpKSAvICh0aGlzLmRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSAvIDEwMC4wKSxcblx0XHRcdHk6XG5cdFx0XHRcdHNvdXJjZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IC8gMiArXG5cdFx0XHRcdChyZWwueSAtIHRoaXMuZGlhZ3JhbU1vZGVsLmdldE9mZnNldFkoKSkgLyAodGhpcy5kaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgLyAxMDAuMClcblx0XHR9O1xuXHR9XG5cblx0Z2V0TWF4TnVtYmVyUG9pbnRzUGVyTGluaygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLm1heE51bWJlclBvaW50c1Blckxpbms7XG5cdH1cblx0c2V0TWF4TnVtYmVyUG9pbnRzUGVyTGluayhtYXg6IG51bWJlcikge1xuXHRcdHRoaXMubWF4TnVtYmVyUG9pbnRzUGVyTGluayA9IG1heDtcblx0fVxuXG5cdHpvb21Ub0ZpdCgpIHtcblx0XHRjb25zdCB4RmFjdG9yID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGggLyB0aGlzLmNhbnZhcy5zY3JvbGxXaWR0aDtcblx0XHRjb25zdCB5RmFjdG9yID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0IC8gdGhpcy5jYW52YXMuc2Nyb2xsSGVpZ2h0O1xuXHRcdGNvbnN0IHpvb21GYWN0b3IgPSB4RmFjdG9yIDwgeUZhY3RvciA/IHhGYWN0b3I6IHlGYWN0b3I7XG5cblx0XHR0aGlzLmRpYWdyYW1Nb2RlbC5zZXRab29tTGV2ZWwodGhpcy5kaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgKiB6b29tRmFjdG9yKTtcblx0XHR0aGlzLmRpYWdyYW1Nb2RlbC5zZXRPZmZzZXQoMCwgMCk7XG5cdFx0dGhpcy5yZXBhaW50Q2FudmFzKCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvRGlhZ3JhbUVuZ2luZS50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBYUE7O0FBRUE7QUFDQTtBQUFBO0FBY0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBdE9BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractInstanceFactory_1 = __webpack_require__(6);\r\nvar LinkModel_1 = __webpack_require__(8);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar LinkInstanceFactory = /** @class */ (function (_super) {\r\n    __extends(LinkInstanceFactory, _super);\r\n    function LinkInstanceFactory() {\r\n        return _super.call(this, \"LinkModel\") || this;\r\n    }\r\n    LinkInstanceFactory.prototype.getInstance = function () {\r\n        return new LinkModel_1.LinkModel();\r\n    };\r\n    return LinkInstanceFactory;\r\n}(AbstractInstanceFactory_1.AbstractInstanceFactory));\r\nexports.LinkInstanceFactory = LinkInstanceFactory;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0xpbmtJbnN0YW5jZUZhY3RvcnkudHM/ODQ4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdEluc3RhbmNlRmFjdG9yeSB9IGZyb20gXCIuL0Fic3RyYWN0SW5zdGFuY2VGYWN0b3J5XCI7XG5pbXBvcnQge0xpbmtNb2RlbH0gZnJvbSBcIi4vbW9kZWxzL0xpbmtNb2RlbFwiO1xuLyoqXG4gKiBAYXV0aG9yIER5bGFuIFZvcnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmtJbnN0YW5jZUZhY3RvcnkgZXh0ZW5kcyBBYnN0cmFjdEluc3RhbmNlRmFjdG9yeTxMaW5rTW9kZWw+IHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJMaW5rTW9kZWxcIik7XG5cdH1cblxuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gbmV3IExpbmtNb2RlbCgpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL0xpbmtJbnN0YW5jZUZhY3RvcnkudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(1);\r\nvar _ = __webpack_require__(0);\r\nvar LinkLayerWidget_1 = __webpack_require__(17);\r\nvar NodeLayerWidget_1 = __webpack_require__(19);\r\nvar Toolkit_1 = __webpack_require__(10);\r\nvar CanvasActions_1 = __webpack_require__(16);\r\nvar NodeModel_1 = __webpack_require__(4);\r\nvar PointModel_1 = __webpack_require__(2);\r\nvar PortModel_1 = __webpack_require__(7);\r\nvar LinkModel_1 = __webpack_require__(8);\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nvar DiagramWidget = /** @class */ (function (_super) {\r\n    __extends(DiagramWidget, _super);\r\n    function DiagramWidget(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\r\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\r\n        _this.state = {\r\n            action: null,\r\n            wasMoved: false,\r\n            renderedNodes: false,\r\n            windowListener: null,\r\n            diagramEngineListener: null,\r\n            document: null\r\n        };\r\n        return _this;\r\n    }\r\n    DiagramWidget.prototype.componentWillUnmount = function () {\r\n        this.props.diagramEngine.removeListener(this.state.diagramEngineListener);\r\n        this.props.diagramEngine.setCanvas(null);\r\n        window.removeEventListener(\"keyup\", this.onKeyUpPointer);\r\n        window.removeEventListener(\"mouseUp\", this.onMouseUp);\r\n        window.removeEventListener(\"mouseMove\", this.onMouseMove);\r\n    };\r\n    DiagramWidget.prototype.componentWillReceiveProps = function (nextProps) {\r\n        var _this = this;\r\n        if (this.props.diagramEngine !== nextProps.diagramEngine) {\r\n            this.props.diagramEngine.removeListener(this.state.diagramEngineListener);\r\n            var diagramEngineListener = nextProps.diagramEngine.addListener({\r\n                repaintCanvas: function () { return _this.forceUpdate(); }\r\n            });\r\n            this.setState({ diagramEngineListener: diagramEngineListener });\r\n        }\r\n    };\r\n    DiagramWidget.prototype.componentWillUpdate = function (nextProps) {\r\n        if (this.props.diagramEngine.diagramModel.id !== nextProps.diagramEngine.diagramModel.id) {\r\n            this.setState({ renderedNodes: false });\r\n            nextProps.diagramEngine.diagramModel.rendered = true;\r\n        }\r\n        if (!nextProps.diagramEngine.diagramModel.rendered) {\r\n            this.setState({ renderedNodes: false });\r\n            nextProps.diagramEngine.diagramModel.rendered = true;\r\n        }\r\n    };\r\n    DiagramWidget.prototype.componentDidUpdate = function () {\r\n        if (!this.state.renderedNodes) {\r\n            this.setState({\r\n                renderedNodes: true\r\n            });\r\n        }\r\n    };\r\n    DiagramWidget.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        this.onKeyUpPointer = this.onKeyUp.bind(this);\r\n        //add a keyboard listener\r\n        this.setState({\r\n            document: document,\r\n            renderedNodes: true,\r\n            diagramEngineListener: this.props.diagramEngine.addListener({\r\n                repaintCanvas: function () {\r\n                    _this.forceUpdate();\r\n                }\r\n            })\r\n        });\r\n        window.addEventListener(\"keyup\", this.onKeyUpPointer, false);\r\n        window.focus();\r\n    };\r\n    /**\r\n     * Gets a model and element under the mouse cursor\r\n     */\r\n    DiagramWidget.prototype.getMouseElement = function (event) {\r\n        var target = event.target;\r\n        var diagramModel = this.props.diagramEngine.diagramModel;\r\n        //is it a port\r\n        var element = Toolkit_1.Toolkit.closest(target, \".port[data-name]\");\r\n        if (element) {\r\n            var nodeElement = Toolkit_1.Toolkit.closest(target, \".node[data-nodeid]\");\r\n            return {\r\n                model: diagramModel.getNode(nodeElement.getAttribute(\"data-nodeid\")).getPort(element.getAttribute(\"data-name\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a point\r\n        element = Toolkit_1.Toolkit.closest(target, \".point[data-id]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getLink(element.getAttribute(\"data-linkid\")).getPointModel(element.getAttribute(\"data-id\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a link\r\n        element = Toolkit_1.Toolkit.closest(target, \"[data-linkid]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getLink(element.getAttribute(\"data-linkid\")),\r\n                element: element\r\n            };\r\n        }\r\n        //look for a node\r\n        element = Toolkit_1.Toolkit.closest(target, \".node[data-nodeid]\");\r\n        if (element) {\r\n            return {\r\n                model: diagramModel.getNode(element.getAttribute(\"data-nodeid\")),\r\n                element: element\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    DiagramWidget.prototype.fireAction = function () {\r\n        if (this.state.action && this.props.actionStillFiring) {\r\n            this.props.actionStillFiring(this.state.action);\r\n        }\r\n    };\r\n    DiagramWidget.prototype.stopFiringAction = function (shouldSkipEvent) {\r\n        if (this.props.actionStoppedFiring && !shouldSkipEvent) {\r\n            this.props.actionStoppedFiring(this.state.action);\r\n        }\r\n        this.setState({ action: null });\r\n    };\r\n    DiagramWidget.prototype.startFiringAction = function (action) {\r\n        var setState = true;\r\n        if (this.props.actionStartedFiring) {\r\n            setState = this.props.actionStartedFiring(action);\r\n        }\r\n        if (setState) {\r\n            this.setState({ action: action });\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onMouseMove = function (event) {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        var diagramModel = diagramEngine.getDiagramModel();\r\n        //select items so draw a bounding box\r\n        if (this.state.action instanceof CanvasActions_1.SelectingAction) {\r\n            var relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\r\n            _.forEach(diagramModel.getNodes(), function (node) {\r\n                if (_this.state.action.containsElement(node.x, node.y, diagramModel)) {\r\n                    node.setSelected(true);\r\n                }\r\n            });\r\n            _.forEach(diagramModel.getLinks(), function (link) {\r\n                var allSelected = true;\r\n                _.forEach(link.points, function (point) {\r\n                    if (_this.state.action.containsElement(point.x, point.y, diagramModel)) {\r\n                        point.setSelected(true);\r\n                    }\r\n                    else {\r\n                        allSelected = false;\r\n                    }\r\n                });\r\n                if (allSelected) {\r\n                    link.setSelected(true);\r\n                }\r\n            });\r\n            this.state.action.mouseX2 = relative.x;\r\n            this.state.action.mouseY2 = relative.y;\r\n            this.fireAction();\r\n            this.setState({ action: this.state.action });\r\n            return;\r\n        }\r\n        else if (this.state.action instanceof CanvasActions_1.MoveItemsAction) {\r\n            var amountX_1 = event.clientX - this.state.action.mouseX;\r\n            var amountY_1 = event.clientY - this.state.action.mouseY;\r\n            var amountZoom_1 = diagramModel.getZoomLevel() / 100;\r\n            _.forEach(this.state.action.selectionModels, function (model) {\r\n                // in this case we need to also work out the relative grid position\r\n                if (model.model instanceof NodeModel_1.NodeModel ||\r\n                    (model.model instanceof PointModel_1.PointModel && !model.model.isConnectedToPort())) {\r\n                    model.model.x = diagramModel.getGridPosition(model.initialX + amountX_1 / amountZoom_1);\r\n                    model.model.y = diagramModel.getGridPosition(model.initialY + amountY_1 / amountZoom_1);\r\n                }\r\n                else if (model.model instanceof PointModel_1.PointModel) {\r\n                    // we want points that are connected to ports, to not neccesarilly snap to grid\r\n                    // this stuff needs to be pixel perfect, dont touch it\r\n                    model.model.x = model.initialX + diagramModel.getGridPosition(amountX_1 / amountZoom_1);\r\n                    model.model.y = model.initialY + diagramModel.getGridPosition(amountY_1 / amountZoom_1);\r\n                }\r\n            });\r\n            this.fireAction();\r\n            this.forceUpdate();\r\n        }\r\n        else if (this.state.action instanceof CanvasActions_1.MoveCanvasAction) {\r\n            //translate the actual canvas\r\n            if (this.props.allowCanvasTranslation) {\r\n                diagramModel.setOffset(this.state.action.initialOffsetX + (event.clientX - this.state.action.mouseX), this.state.action.initialOffsetY + (event.clientY - this.state.action.mouseY));\r\n                this.fireAction();\r\n                this.forceUpdate();\r\n            }\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onKeyUp = function (event) {\r\n        var _this = this;\r\n        //delete all selected\r\n        if (this.props.deleteKeys.indexOf(event.keyCode) !== -1) {\r\n            _.forEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(), function (element) {\r\n                //only delete items which are not locked\r\n                if (!_this.props.diagramEngine.isModelLocked(element)) {\r\n                    element.remove();\r\n                }\r\n            });\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    DiagramWidget.prototype.onMouseUp = function (event) {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        //are we going to connect a link to something?\r\n        if (this.state.action instanceof CanvasActions_1.MoveItemsAction) {\r\n            var element = this.getMouseElement(event);\r\n            var linkConnected = false;\r\n            _.forEach(this.state.action.selectionModels, function (model) {\r\n                //only care about points connecting to things\r\n                if (!(model.model instanceof PointModel_1.PointModel)) {\r\n                    return;\r\n                }\r\n                if (element && element.model instanceof PortModel_1.PortModel && !diagramEngine.isModelLocked(element.model)) {\r\n                    linkConnected = true;\r\n                    var link = model.model.getLink();\r\n                    link.setTargetPort(element.model);\r\n                    delete _this.props.diagramEngine.linksThatHaveInitiallyRendered[link.getID()];\r\n                }\r\n            });\r\n            //do we want to allow loose links on the diagram model or not\r\n            if (!linkConnected && !this.props.allowLooseLinks) {\r\n                _.forEach(this.state.action.selectionModels, function (model) {\r\n                    //only care about points connecting to things\r\n                    if (!(model.model instanceof PointModel_1.PointModel)) {\r\n                        return;\r\n                    }\r\n                    var link = model.model.getLink();\r\n                    if (link.isLastPoint(model.model)) {\r\n                        link.remove();\r\n                    }\r\n                });\r\n            }\r\n            diagramEngine.clearRepaintEntities();\r\n            this.stopFiringAction(!this.state.wasMoved);\r\n        }\r\n        else {\r\n            diagramEngine.clearRepaintEntities();\r\n            this.stopFiringAction();\r\n        }\r\n        this.state.document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        this.state.document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    };\r\n    DiagramWidget.prototype.drawSelectionBox = function () {\r\n        var dimensions = this.state.action.getBoxDimensions();\r\n        return (React.createElement(\"div\", { className: \"selector\", style: {\r\n                top: dimensions.top,\r\n                left: dimensions.left,\r\n                width: dimensions.width,\r\n                height: dimensions.height\r\n            } }));\r\n    };\r\n    DiagramWidget.prototype.render = function () {\r\n        var _this = this;\r\n        var diagramEngine = this.props.diagramEngine;\r\n        diagramEngine.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink);\r\n        var diagramModel = diagramEngine.getDiagramModel();\r\n        return (React.createElement(\"div\", { ref: function (ref) {\r\n                if (ref) {\r\n                    _this.props.diagramEngine.setCanvas(ref);\r\n                }\r\n            }, className: \"storm-diagrams-canvas\", onWheel: function (event) {\r\n                if (_this.props.allowCanvasZoom) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    var oldZoomFactor = diagramModel.getZoomLevel() / 100;\r\n                    var scrollDelta = _this.props.inverseZoom ? -event.deltaY : event.deltaY;\r\n                    //check if it is pinch gesture\r\n                    if (event.ctrlKey && scrollDelta % 1 !== 0) {\r\n                        /*Chrome and Firefox sends wheel event with deltaY that\r\n                            have fractional part, also `ctrlKey` prop of the event is true\r\n                            though ctrl isn't pressed\r\n                        */\r\n                        scrollDelta /= 3;\r\n                    }\r\n                    else {\r\n                        scrollDelta /= 60;\r\n                    }\r\n                    if (diagramModel.getZoomLevel() + scrollDelta > 10) {\r\n                        diagramModel.setZoomLevel(diagramModel.getZoomLevel() + scrollDelta);\r\n                    }\r\n                    var zoomFactor = diagramModel.getZoomLevel() / 100;\r\n                    var boundingRect = event.currentTarget.getBoundingClientRect();\r\n                    var clientWidth = boundingRect.width;\r\n                    var clientHeight = boundingRect.height;\r\n                    // compute difference between rect before and after scroll\r\n                    var widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\r\n                    var heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\r\n                    // compute mouse coords relative to canvas\r\n                    var clientX = event.clientX - boundingRect.left;\r\n                    var clientY = event.clientY - boundingRect.top;\r\n                    // compute width and height increment factor\r\n                    var xFactor = (clientX - diagramModel.getOffsetX()) / oldZoomFactor / clientWidth;\r\n                    var yFactor = (clientY - diagramModel.getOffsetY()) / oldZoomFactor / clientHeight;\r\n                    diagramModel.setOffset(diagramModel.getOffsetX() - widthDiff * xFactor, diagramModel.getOffsetY() - heightDiff * yFactor);\r\n                    diagramEngine.enableRepaintEntities([]);\r\n                    _this.forceUpdate();\r\n                }\r\n            }, onMouseDown: function (event) {\r\n                _this.setState(__assign({}, _this.state, { wasMoved: false }));\r\n                diagramEngine.clearRepaintEntities();\r\n                var model = _this.getMouseElement(event);\r\n                //the canvas was selected\r\n                if (model === null) {\r\n                    //is it a multiple selection\r\n                    if (event.shiftKey) {\r\n                        var relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\r\n                        _this.startFiringAction(new CanvasActions_1.SelectingAction(relative.x, relative.y));\r\n                    }\r\n                    else {\r\n                        //its a drag the canvas event\r\n                        diagramModel.clearSelection();\r\n                        _this.startFiringAction(new CanvasActions_1.MoveCanvasAction(event.clientX, event.clientY, diagramModel));\r\n                    }\r\n                }\r\n                else if (model.model instanceof PortModel_1.PortModel) {\r\n                    //its a port element, we want to drag a link\r\n                    if (!_this.props.diagramEngine.isModelLocked(model.model)) {\r\n                        var relative = diagramEngine.getRelativeMousePoint(event);\r\n                        var link = new LinkModel_1.LinkModel();\r\n                        link.setSourcePort(model.model);\r\n                        link.getFirstPoint().updateLocation(relative);\r\n                        link.getLastPoint().updateLocation(relative);\r\n                        diagramModel.clearSelection();\r\n                        link.getLastPoint().setSelected(true);\r\n                        diagramModel.addLink(link);\r\n                        _this.startFiringAction(new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine));\r\n                    }\r\n                    else {\r\n                        diagramModel.clearSelection();\r\n                    }\r\n                }\r\n                else {\r\n                    //its some or other element, probably want to move it\r\n                    if (!event.shiftKey && !model.model.isSelected()) {\r\n                        diagramModel.clearSelection();\r\n                    }\r\n                    model.model.setSelected(true);\r\n                    _this.startFiringAction(new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine));\r\n                }\r\n                _this.state.document.addEventListener(\"mousemove\", _this.onMouseMove);\r\n                _this.state.document.addEventListener(\"mouseup\", _this.onMouseUp);\r\n            } },\r\n            this.state.renderedNodes && (React.createElement(LinkLayerWidget_1.LinkLayerWidget, { diagramEngine: diagramEngine, pointAdded: function (point, event) {\r\n                    _this.state.document.addEventListener(\"mousemove\", _this.onMouseMove);\r\n                    _this.state.document.addEventListener(\"mouseup\", _this.onMouseUp);\r\n                    event.stopPropagation();\r\n                    diagramModel.clearSelection(point);\r\n                    _this.setState({\r\n                        action: new CanvasActions_1.MoveItemsAction(event.clientX, event.clientY, diagramEngine)\r\n                    });\r\n                } })),\r\n            React.createElement(NodeLayerWidget_1.NodeLayerWidget, { diagramEngine: diagramEngine }),\r\n            this.state.action instanceof CanvasActions_1.SelectingAction && this.drawSelectionBox()));\r\n    };\r\n    DiagramWidget.defaultProps = {\r\n        diagramEngine: null,\r\n        allowLooseLinks: true,\r\n        allowCanvasTranslation: true,\r\n        allowCanvasZoom: true,\r\n        inverseZoom: false,\r\n        maxNumberPointsPerLink: Infinity,\r\n        deleteKeys: [46, 8]\r\n    };\r\n    return DiagramWidget;\r\n}(React.Component));\r\nexports.DiagramWidget = DiagramWidget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3dpZGdldHMvRGlhZ3JhbVdpZGdldC50c3g/YmIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERpYWdyYW1FbmdpbmUgfSBmcm9tIFwiLi4vRGlhZ3JhbUVuZ2luZVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgeyBMaW5rTGF5ZXJXaWRnZXQgfSBmcm9tIFwiLi9MaW5rTGF5ZXJXaWRnZXRcIjtcbmltcG9ydCB7IE5vZGVMYXllcldpZGdldCB9IGZyb20gXCIuL05vZGVMYXllcldpZGdldFwiO1xuaW1wb3J0IHsgVG9vbGtpdCB9IGZyb20gXCIuLi9Ub29sa2l0XCI7XG5pbXBvcnQgeyBCYXNlQWN0aW9uLCBNb3ZlQ2FudmFzQWN0aW9uLCBNb3ZlSXRlbXNBY3Rpb24sIFNlbGVjdGluZ0FjdGlvbiB9IGZyb20gXCIuLi9DYW52YXNBY3Rpb25zXCI7XG5pbXBvcnQge05vZGVNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Ob2RlTW9kZWxcIjtcbmltcG9ydCB7UG9pbnRNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Qb2ludE1vZGVsXCI7XG5pbXBvcnQge1BvcnRNb2RlbH0gZnJvbSBcIi4uL21vZGVscy9Qb3J0TW9kZWxcIjtcbmltcG9ydCB7TGlua01vZGVsfSBmcm9tIFwiLi4vbW9kZWxzL0xpbmtNb2RlbFwiO1xuaW1wb3J0IHtCYXNlTW9kZWwsIEJhc2VNb2RlbExpc3RlbmVyfSBmcm9tIFwiLi4vbW9kZWxzL0Jhc2VNb2RlbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvbk1vZGVsIHtcblx0bW9kZWw6IEJhc2VNb2RlbDxCYXNlTW9kZWxMaXN0ZW5lcj47XG5cdGluaXRpYWxYOiBudW1iZXI7XG5cdGluaXRpYWxZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhZ3JhbVByb3BzIHtcblx0ZGlhZ3JhbUVuZ2luZTogRGlhZ3JhbUVuZ2luZTtcblxuXHRhbGxvd0xvb3NlTGlua3M/OiBib29sZWFuO1xuXHRhbGxvd0NhbnZhc1RyYW5zbGF0aW9uPzogYm9vbGVhbjtcblx0YWxsb3dDYW52YXNab29tPzogYm9vbGVhbjtcblx0aW52ZXJzZVpvb20/OiBib29sZWFuO1xuXHRtYXhOdW1iZXJQb2ludHNQZXJMaW5rPzogbnVtYmVyO1xuXG5cdGFjdGlvblN0YXJ0ZWRGaXJpbmc/OiAoYWN0aW9uOiBCYXNlQWN0aW9uKSA9PiBib29sZWFuO1xuXHRhY3Rpb25TdGlsbEZpcmluZz86IChhY3Rpb246IEJhc2VBY3Rpb24pID0+IHZvaWQ7XG5cdGFjdGlvblN0b3BwZWRGaXJpbmc/OiAoYWN0aW9uOiBCYXNlQWN0aW9uKSA9PiB2b2lkO1xuXG5cdGRlbGV0ZUtleXM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFncmFtU3RhdGUge1xuXHRhY3Rpb246IEJhc2VBY3Rpb24gfCBudWxsO1xuXHR3YXNNb3ZlZDogYm9vbGVhbjtcblx0cmVuZGVyZWROb2RlczogYm9vbGVhbjtcblx0d2luZG93TGlzdGVuZXI6IGFueTtcblx0ZGlhZ3JhbUVuZ2luZUxpc3RlbmVyOiBhbnk7XG5cdGRvY3VtZW50OiBhbnk7XG59XG5cbi8qKlxuICogQGF1dGhvciBEeWxhbiBWb3JzdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWFncmFtV2lkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERpYWdyYW1Qcm9wcywgRGlhZ3JhbVN0YXRlPiB7XG5cdHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzOiBEaWFncmFtUHJvcHMgPSB7XG5cdFx0ZGlhZ3JhbUVuZ2luZTogbnVsbCxcblx0XHRhbGxvd0xvb3NlTGlua3M6IHRydWUsXG5cdFx0YWxsb3dDYW52YXNUcmFuc2xhdGlvbjogdHJ1ZSxcblx0XHRhbGxvd0NhbnZhc1pvb206IHRydWUsXG5cdFx0aW52ZXJzZVpvb206IGZhbHNlLFxuXHRcdG1heE51bWJlclBvaW50c1Blckxpbms6IEluZmluaXR5LCAvLyBiYWNrd2FyZHMgY29tcGF0aWJsZSBkZWZhdWx0XG5cdFx0ZGVsZXRlS2V5czogWzQ2LCA4XVxuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzOiBEaWFncmFtUHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy5vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uTW91c2VVcCA9IHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdGFjdGlvbjogbnVsbCxcblx0XHRcdHdhc01vdmVkOiBmYWxzZSxcblx0XHRcdHJlbmRlcmVkTm9kZXM6IGZhbHNlLFxuXHRcdFx0d2luZG93TGlzdGVuZXI6IG51bGwsXG5cdFx0XHRkaWFncmFtRW5naW5lTGlzdGVuZXI6IG51bGwsXG5cdFx0XHRkb2N1bWVudDogbnVsbFxuXHRcdH07XG5cdH1cblxuXHRvbktleVVwUG9pbnRlcjogbnVsbDtcblxuXHRjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0XHR0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUucmVtb3ZlTGlzdGVuZXIodGhpcy5zdGF0ZS5kaWFncmFtRW5naW5lTGlzdGVuZXIpO1xuXHRcdHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5zZXRDYW52YXMobnVsbCk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXBQb2ludGVyKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlVXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VNb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUpO1xuXHR9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IERpYWdyYW1Qcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUgIT09IG5leHRQcm9wcy5kaWFncmFtRW5naW5lKSB7XG4gICAgICB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUucmVtb3ZlTGlzdGVuZXIodGhpcy5zdGF0ZS5kaWFncmFtRW5naW5lTGlzdGVuZXIpO1xuICAgICAgY29uc3QgZGlhZ3JhbUVuZ2luZUxpc3RlbmVyID0gbmV4dFByb3BzLmRpYWdyYW1FbmdpbmUuYWRkTGlzdGVuZXIoe1xuICAgICAgICByZXBhaW50Q2FudmFzOiAoKSA9PiB0aGlzLmZvcmNlVXBkYXRlKClcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZGlhZ3JhbUVuZ2luZUxpc3RlbmVyfSk7XG4gICAgfVxuICB9XG5cblx0Y29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHM6IERpYWdyYW1Qcm9wcykge1xuXHRcdGlmICh0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuZGlhZ3JhbU1vZGVsLmlkICE9PSBuZXh0UHJvcHMuZGlhZ3JhbUVuZ2luZS5kaWFncmFtTW9kZWwuaWQpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyByZW5kZXJlZE5vZGVzOiBmYWxzZSB9KTtcblx0XHRcdG5leHRQcm9wcy5kaWFncmFtRW5naW5lLmRpYWdyYW1Nb2RlbC5yZW5kZXJlZCA9IHRydWU7XG5cdFx0fVxuXHRcdGlmICghbmV4dFByb3BzLmRpYWdyYW1FbmdpbmUuZGlhZ3JhbU1vZGVsLnJlbmRlcmVkKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgcmVuZGVyZWROb2RlczogZmFsc2UgfSk7XG5cdFx0XHRuZXh0UHJvcHMuZGlhZ3JhbUVuZ2luZS5kaWFncmFtTW9kZWwucmVuZGVyZWQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0XHRpZiAoIXRoaXMuc3RhdGUucmVuZGVyZWROb2Rlcykge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdHJlbmRlcmVkTm9kZXM6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMub25LZXlVcFBvaW50ZXIgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcblxuXHRcdC8vYWRkIGEga2V5Ym9hcmQgbGlzdGVuZXJcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGRvY3VtZW50OiBkb2N1bWVudCxcblx0XHRcdHJlbmRlcmVkTm9kZXM6IHRydWUsXG5cdFx0XHRkaWFncmFtRW5naW5lTGlzdGVuZXI6IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5hZGRMaXN0ZW5lcih7XG5cdFx0XHRcdHJlcGFpbnRDYW52YXM6ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLmZvcmNlVXBkYXRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSk7XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcFBvaW50ZXIsIGZhbHNlKTtcblxuXHRcdHdpbmRvdy5mb2N1cygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgYSBtb2RlbCBhbmQgZWxlbWVudCB1bmRlciB0aGUgbW91c2UgY3Vyc29yXG5cdCAqL1xuXHRnZXRNb3VzZUVsZW1lbnQoZXZlbnQpOiB7IG1vZGVsOiBCYXNlTW9kZWw8QmFzZU1vZGVsTGlzdGVuZXI+OyBlbGVtZW50OiBFbGVtZW50IH0ge1xuXHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgRWxlbWVudDtcblx0XHR2YXIgZGlhZ3JhbU1vZGVsID0gdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmRpYWdyYW1Nb2RlbDtcblxuXHRcdC8vaXMgaXQgYSBwb3J0XG5cdFx0dmFyIGVsZW1lbnQgPSBUb29sa2l0LmNsb3Nlc3QodGFyZ2V0LCBcIi5wb3J0W2RhdGEtbmFtZV1cIik7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdHZhciBub2RlRWxlbWVudCA9IFRvb2xraXQuY2xvc2VzdCh0YXJnZXQsIFwiLm5vZGVbZGF0YS1ub2RlaWRdXCIpIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bW9kZWw6IGRpYWdyYW1Nb2RlbC5nZXROb2RlKG5vZGVFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm9kZWlkXCIpKS5nZXRQb3J0KGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIpKSxcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvL2xvb2sgZm9yIGEgcG9pbnRcblx0XHRlbGVtZW50ID0gVG9vbGtpdC5jbG9zZXN0KHRhcmdldCwgXCIucG9pbnRbZGF0YS1pZF1cIik7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1vZGVsOiBkaWFncmFtTW9kZWwuZ2V0TGluayhlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbGlua2lkXCIpKS5nZXRQb2ludE1vZGVsKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9sb29rIGZvciBhIGxpbmtcblx0XHRlbGVtZW50ID0gVG9vbGtpdC5jbG9zZXN0KHRhcmdldCwgXCJbZGF0YS1saW5raWRdXCIpO1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRtb2RlbDogZGlhZ3JhbU1vZGVsLmdldExpbmsoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmtpZFwiKSksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly9sb29rIGZvciBhIG5vZGVcblx0XHRlbGVtZW50ID0gVG9vbGtpdC5jbG9zZXN0KHRhcmdldCwgXCIubm9kZVtkYXRhLW5vZGVpZF1cIik7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG1vZGVsOiBkaWFncmFtTW9kZWwuZ2V0Tm9kZShlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbm9kZWlkXCIpKSxcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZpcmVBY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuc3RhdGUuYWN0aW9uICYmIHRoaXMucHJvcHMuYWN0aW9uU3RpbGxGaXJpbmcpIHtcblx0XHRcdHRoaXMucHJvcHMuYWN0aW9uU3RpbGxGaXJpbmcodGhpcy5zdGF0ZS5hY3Rpb24pO1xuXHRcdH1cblx0fVxuXG5cdHN0b3BGaXJpbmdBY3Rpb24oc2hvdWxkU2tpcEV2ZW50PzogYm9vbGVhbikge1xuXHRcdGlmICh0aGlzLnByb3BzLmFjdGlvblN0b3BwZWRGaXJpbmcgJiYgIXNob3VsZFNraXBFdmVudCkge1xuXHRcdFx0dGhpcy5wcm9wcy5hY3Rpb25TdG9wcGVkRmlyaW5nKHRoaXMuc3RhdGUuYWN0aW9uKTtcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IGFjdGlvbjogbnVsbCB9KTtcblx0fVxuXG5cdHN0YXJ0RmlyaW5nQWN0aW9uKGFjdGlvbjogQmFzZUFjdGlvbikge1xuXHRcdHZhciBzZXRTdGF0ZSA9IHRydWU7XG5cdFx0aWYgKHRoaXMucHJvcHMuYWN0aW9uU3RhcnRlZEZpcmluZykge1xuXHRcdFx0c2V0U3RhdGUgPSB0aGlzLnByb3BzLmFjdGlvblN0YXJ0ZWRGaXJpbmcoYWN0aW9uKTtcblx0XHR9XG5cdFx0aWYgKHNldFN0YXRlKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24gfSk7XG5cdFx0fVxuXHR9XG5cblx0b25Nb3VzZU1vdmUoZXZlbnQpIHtcblx0XHR2YXIgZGlhZ3JhbUVuZ2luZSA9IHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZTtcblx0XHR2YXIgZGlhZ3JhbU1vZGVsID0gZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKTtcblx0XHQvL3NlbGVjdCBpdGVtcyBzbyBkcmF3IGEgYm91bmRpbmcgYm94XG5cdFx0aWYgKHRoaXMuc3RhdGUuYWN0aW9uIGluc3RhbmNlb2YgU2VsZWN0aW5nQWN0aW9uKSB7XG5cdFx0XHR2YXIgcmVsYXRpdmUgPSBkaWFncmFtRW5naW5lLmdldFJlbGF0aXZlUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cblx0XHRcdF8uZm9yRWFjaChkaWFncmFtTW9kZWwuZ2V0Tm9kZXMoKSwgKG5vZGUpID0+IHtcblx0XHRcdFx0aWYgKCh0aGlzLnN0YXRlLmFjdGlvbiBhcyBTZWxlY3RpbmdBY3Rpb24pLmNvbnRhaW5zRWxlbWVudChub2RlLngsIG5vZGUueSwgZGlhZ3JhbU1vZGVsKSkge1xuXHRcdFx0XHRcdG5vZGUuc2V0U2VsZWN0ZWQodHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRfLmZvckVhY2goZGlhZ3JhbU1vZGVsLmdldExpbmtzKCksIChsaW5rKSA9PiB7XG5cdFx0XHRcdHZhciBhbGxTZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdF8uZm9yRWFjaChsaW5rLnBvaW50cywgKHBvaW50KSA9PiB7XG5cdFx0XHRcdFx0aWYgKCh0aGlzLnN0YXRlLmFjdGlvbiBhcyBTZWxlY3RpbmdBY3Rpb24pLmNvbnRhaW5zRWxlbWVudChwb2ludC54LCBwb2ludC55LCBkaWFncmFtTW9kZWwpKSB7XG5cdFx0XHRcdFx0XHRwb2ludC5zZXRTZWxlY3RlZCh0cnVlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YWxsU2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChhbGxTZWxlY3RlZCkge1xuXHRcdFx0XHRcdGxpbmsuc2V0U2VsZWN0ZWQodHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnN0YXRlLmFjdGlvbi5tb3VzZVgyID0gcmVsYXRpdmUueDtcblx0XHRcdHRoaXMuc3RhdGUuYWN0aW9uLm1vdXNlWTIgPSByZWxhdGl2ZS55O1xuXG5cdFx0XHR0aGlzLmZpcmVBY3Rpb24oKTtcblx0XHRcdHRoaXMuc2V0U3RhdGUoeyBhY3Rpb246IHRoaXMuc3RhdGUuYWN0aW9uIH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5hY3Rpb24gaW5zdGFuY2VvZiBNb3ZlSXRlbXNBY3Rpb24pIHtcblx0XHRcdGxldCBhbW91bnRYID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuc3RhdGUuYWN0aW9uLm1vdXNlWDtcblx0XHRcdGxldCBhbW91bnRZID0gZXZlbnQuY2xpZW50WSAtIHRoaXMuc3RhdGUuYWN0aW9uLm1vdXNlWTtcblx0XHRcdGxldCBhbW91bnRab29tID0gZGlhZ3JhbU1vZGVsLmdldFpvb21MZXZlbCgpIC8gMTAwO1xuXG5cdFx0XHRfLmZvckVhY2godGhpcy5zdGF0ZS5hY3Rpb24uc2VsZWN0aW9uTW9kZWxzLCAobW9kZWwpID0+IHtcblx0XHRcdFx0Ly8gaW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gYWxzbyB3b3JrIG91dCB0aGUgcmVsYXRpdmUgZ3JpZCBwb3NpdGlvblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bW9kZWwubW9kZWwgaW5zdGFuY2VvZiBOb2RlTW9kZWwgfHxcblx0XHRcdFx0XHQobW9kZWwubW9kZWwgaW5zdGFuY2VvZiBQb2ludE1vZGVsICYmICFtb2RlbC5tb2RlbC5pc0Nvbm5lY3RlZFRvUG9ydCgpKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRtb2RlbC5tb2RlbC54ID0gZGlhZ3JhbU1vZGVsLmdldEdyaWRQb3NpdGlvbihtb2RlbC5pbml0aWFsWCArIGFtb3VudFggLyBhbW91bnRab29tKTtcblx0XHRcdFx0XHRtb2RlbC5tb2RlbC55ID0gZGlhZ3JhbU1vZGVsLmdldEdyaWRQb3NpdGlvbihtb2RlbC5pbml0aWFsWSArIGFtb3VudFkgLyBhbW91bnRab29tKTtcblx0XHRcdFx0fSBlbHNlIGlmIChtb2RlbC5tb2RlbCBpbnN0YW5jZW9mIFBvaW50TW9kZWwpIHtcblx0XHRcdFx0XHQvLyB3ZSB3YW50IHBvaW50cyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gcG9ydHMsIHRvIG5vdCBuZWNjZXNhcmlsbHkgc25hcCB0byBncmlkXG5cdFx0XHRcdFx0Ly8gdGhpcyBzdHVmZiBuZWVkcyB0byBiZSBwaXhlbCBwZXJmZWN0LCBkb250IHRvdWNoIGl0XG5cdFx0XHRcdFx0bW9kZWwubW9kZWwueCA9IG1vZGVsLmluaXRpYWxYICsgZGlhZ3JhbU1vZGVsLmdldEdyaWRQb3NpdGlvbihhbW91bnRYIC8gYW1vdW50Wm9vbSk7XG5cdFx0XHRcdFx0bW9kZWwubW9kZWwueSA9IG1vZGVsLmluaXRpYWxZICsgZGlhZ3JhbU1vZGVsLmdldEdyaWRQb3NpdGlvbihhbW91bnRZIC8gYW1vdW50Wm9vbSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5maXJlQWN0aW9uKCk7XG5cdFx0XHR0aGlzLmZvcmNlVXBkYXRlKCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnN0YXRlLmFjdGlvbiBpbnN0YW5jZW9mIE1vdmVDYW52YXNBY3Rpb24pIHtcblx0XHRcdC8vdHJhbnNsYXRlIHRoZSBhY3R1YWwgY2FudmFzXG5cdFx0XHRpZiAodGhpcy5wcm9wcy5hbGxvd0NhbnZhc1RyYW5zbGF0aW9uKSB7XG5cdFx0XHRcdGRpYWdyYW1Nb2RlbC5zZXRPZmZzZXQoXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5hY3Rpb24uaW5pdGlhbE9mZnNldFggKyAoZXZlbnQuY2xpZW50WCAtIHRoaXMuc3RhdGUuYWN0aW9uLm1vdXNlWCksXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5hY3Rpb24uaW5pdGlhbE9mZnNldFkgKyAoZXZlbnQuY2xpZW50WSAtIHRoaXMuc3RhdGUuYWN0aW9uLm1vdXNlWSlcblx0XHRcdFx0KTtcblx0XHRcdFx0dGhpcy5maXJlQWN0aW9uKCk7XG5cdFx0XHRcdHRoaXMuZm9yY2VVcGRhdGUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRvbktleVVwKGV2ZW50KSB7XG5cdFx0Ly9kZWxldGUgYWxsIHNlbGVjdGVkXG5cdFx0aWYgKHRoaXMucHJvcHMuZGVsZXRlS2V5cy5pbmRleE9mKGV2ZW50LmtleUNvZGUpICE9PSAtMSkge1xuXHRcdFx0Xy5mb3JFYWNoKHRoaXMucHJvcHMuZGlhZ3JhbUVuZ2luZS5nZXREaWFncmFtTW9kZWwoKS5nZXRTZWxlY3RlZEl0ZW1zKCksIChlbGVtZW50KSA9PiB7XG5cdFx0XHRcdC8vb25seSBkZWxldGUgaXRlbXMgd2hpY2ggYXJlIG5vdCBsb2NrZWRcblx0XHRcdFx0aWYgKCF0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChlbGVtZW50KSkge1xuXHRcdFx0XHRcdGVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdG9uTW91c2VVcChldmVudCkge1xuXHRcdHZhciBkaWFncmFtRW5naW5lID0gdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lO1xuXHRcdC8vYXJlIHdlIGdvaW5nIHRvIGNvbm5lY3QgYSBsaW5rIHRvIHNvbWV0aGluZz9cblx0XHRpZiAodGhpcy5zdGF0ZS5hY3Rpb24gaW5zdGFuY2VvZiBNb3ZlSXRlbXNBY3Rpb24pIHtcblx0XHRcdHZhciBlbGVtZW50ID0gdGhpcy5nZXRNb3VzZUVsZW1lbnQoZXZlbnQpO1xuXHRcdFx0dmFyIGxpbmtDb25uZWN0ZWQgPSBmYWxzZTtcblx0XHRcdF8uZm9yRWFjaCh0aGlzLnN0YXRlLmFjdGlvbi5zZWxlY3Rpb25Nb2RlbHMsIChtb2RlbCkgPT4ge1xuXHRcdFx0XHQvL29ubHkgY2FyZSBhYm91dCBwb2ludHMgY29ubmVjdGluZyB0byB0aGluZ3Ncblx0XHRcdFx0aWYgKCEobW9kZWwubW9kZWwgaW5zdGFuY2VvZiBQb2ludE1vZGVsKSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChlbGVtZW50ICYmIGVsZW1lbnQubW9kZWwgaW5zdGFuY2VvZiBQb3J0TW9kZWwgJiYgIWRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChlbGVtZW50Lm1vZGVsKSkge1xuXHRcdFx0XHRcdGxpbmtDb25uZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdGxldCBsaW5rID0gbW9kZWwubW9kZWwuZ2V0TGluaygpO1xuXHRcdFx0XHRcdGxpbmsuc2V0VGFyZ2V0UG9ydChlbGVtZW50Lm1vZGVsKTtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wcm9wcy5kaWFncmFtRW5naW5lLmxpbmtzVGhhdEhhdmVJbml0aWFsbHlSZW5kZXJlZFtsaW5rLmdldElEKCldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly9kbyB3ZSB3YW50IHRvIGFsbG93IGxvb3NlIGxpbmtzIG9uIHRoZSBkaWFncmFtIG1vZGVsIG9yIG5vdFxuXHRcdFx0aWYgKCFsaW5rQ29ubmVjdGVkICYmICF0aGlzLnByb3BzLmFsbG93TG9vc2VMaW5rcykge1xuXHRcdFx0XHRfLmZvckVhY2godGhpcy5zdGF0ZS5hY3Rpb24uc2VsZWN0aW9uTW9kZWxzLCAobW9kZWwpID0+IHtcblx0XHRcdFx0XHQvL29ubHkgY2FyZSBhYm91dCBwb2ludHMgY29ubmVjdGluZyB0byB0aGluZ3Ncblx0XHRcdFx0XHRpZiAoIShtb2RlbC5tb2RlbCBpbnN0YW5jZW9mIFBvaW50TW9kZWwpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIGxpbmsgPSBtb2RlbC5tb2RlbC5nZXRMaW5rKCk7XG5cdFx0XHRcdFx0aWYgKGxpbmsuaXNMYXN0UG9pbnQobW9kZWwubW9kZWwpKSB7XG5cdFx0XHRcdFx0XHRsaW5rLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRkaWFncmFtRW5naW5lLmNsZWFyUmVwYWludEVudGl0aWVzKCk7XG5cdFx0XHR0aGlzLnN0b3BGaXJpbmdBY3Rpb24oIXRoaXMuc3RhdGUud2FzTW92ZWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaWFncmFtRW5naW5lLmNsZWFyUmVwYWludEVudGl0aWVzKCk7XG5cdFx0XHR0aGlzLnN0b3BGaXJpbmdBY3Rpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0YXRlLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSk7XG5cdFx0dGhpcy5zdGF0ZS5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcCk7XG5cdH1cblxuXHRkcmF3U2VsZWN0aW9uQm94KCkge1xuXHRcdGxldCBkaW1lbnNpb25zID0gKHRoaXMuc3RhdGUuYWN0aW9uIGFzIFNlbGVjdGluZ0FjdGlvbikuZ2V0Qm94RGltZW5zaW9ucygpO1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2XG5cdFx0XHRcdGNsYXNzTmFtZT1cInNlbGVjdG9yXCJcblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHR0b3A6IGRpbWVuc2lvbnMudG9wLFxuXHRcdFx0XHRcdGxlZnQ6IGRpbWVuc2lvbnMubGVmdCxcblx0XHRcdFx0XHR3aWR0aDogZGltZW5zaW9ucy53aWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0XG5cdFx0XHRcdH19XG5cdFx0XHQvPlxuXHRcdCk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0dmFyIGRpYWdyYW1FbmdpbmUgPSB0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmU7XG5cdFx0ZGlhZ3JhbUVuZ2luZS5zZXRNYXhOdW1iZXJQb2ludHNQZXJMaW5rKHRoaXMucHJvcHMubWF4TnVtYmVyUG9pbnRzUGVyTGluayk7XG5cdFx0dmFyIGRpYWdyYW1Nb2RlbCA9IGRpYWdyYW1FbmdpbmUuZ2V0RGlhZ3JhbU1vZGVsKCk7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdlxuXHRcdFx0XHRyZWY9eyhyZWYpID0+IHtcblx0XHRcdFx0XHRpZiAocmVmKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuc2V0Q2FudmFzKHJlZik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9fVxuXHRcdFx0XHRjbGFzc05hbWU9XCJzdG9ybS1kaWFncmFtcy1jYW52YXNcIlxuXHRcdFx0XHRvbldoZWVsPXsoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy5wcm9wcy5hbGxvd0NhbnZhc1pvb20pIHtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdGNvbnN0IG9sZFpvb21GYWN0b3IgPSBkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgLyAxMDA7XG5cdFx0XHRcdFx0XHRsZXQgc2Nyb2xsRGVsdGEgPSB0aGlzLnByb3BzLmludmVyc2Vab29tID8gLWV2ZW50LmRlbHRhWSA6IGV2ZW50LmRlbHRhWTtcblx0XHRcdFx0XHRcdC8vY2hlY2sgaWYgaXQgaXMgcGluY2ggZ2VzdHVyZVxuXHRcdFx0XHRcdFx0aWYgKGV2ZW50LmN0cmxLZXkgJiYgc2Nyb2xsRGVsdGEgJSAxICE9PSAwKSB7XG5cdFx0XHRcdFx0XHRcdC8qQ2hyb21lIGFuZCBGaXJlZm94IHNlbmRzIHdoZWVsIGV2ZW50IHdpdGggZGVsdGFZIHRoYXRcblx0XHRcdFx0XHRcdFx0XHRoYXZlIGZyYWN0aW9uYWwgcGFydCwgYWxzbyBgY3RybEtleWAgcHJvcCBvZiB0aGUgZXZlbnQgaXMgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRob3VnaCBjdHJsIGlzbid0IHByZXNzZWRcblx0XHRcdFx0XHRcdFx0Ki9cblx0XHRcdFx0XHRcdFx0c2Nyb2xsRGVsdGEgLz0gMztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNjcm9sbERlbHRhIC89IDYwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKGRpYWdyYW1Nb2RlbC5nZXRab29tTGV2ZWwoKSArIHNjcm9sbERlbHRhID4gMTApIHtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLnNldFpvb21MZXZlbChkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgKyBzY3JvbGxEZWx0YSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IHpvb21GYWN0b3IgPSBkaWFncmFtTW9kZWwuZ2V0Wm9vbUxldmVsKCkgLyAxMDA7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGJvdW5kaW5nUmVjdCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0XHRjb25zdCBjbGllbnRXaWR0aCA9IGJvdW5kaW5nUmVjdC53aWR0aDtcblx0XHRcdFx0XHRcdGNvbnN0IGNsaWVudEhlaWdodCA9IGJvdW5kaW5nUmVjdC5oZWlnaHQ7XG5cdFx0XHRcdFx0XHQvLyBjb21wdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiByZWN0IGJlZm9yZSBhbmQgYWZ0ZXIgc2Nyb2xsXG5cdFx0XHRcdFx0XHRjb25zdCB3aWR0aERpZmYgPSBjbGllbnRXaWR0aCAqIHpvb21GYWN0b3IgLSBjbGllbnRXaWR0aCAqIG9sZFpvb21GYWN0b3I7XG5cdFx0XHRcdFx0XHRjb25zdCBoZWlnaHREaWZmID0gY2xpZW50SGVpZ2h0ICogem9vbUZhY3RvciAtIGNsaWVudEhlaWdodCAqIG9sZFpvb21GYWN0b3I7XG5cdFx0XHRcdFx0XHQvLyBjb21wdXRlIG1vdXNlIGNvb3JkcyByZWxhdGl2ZSB0byBjYW52YXNcblx0XHRcdFx0XHRcdGNvbnN0IGNsaWVudFggPSBldmVudC5jbGllbnRYIC0gYm91bmRpbmdSZWN0LmxlZnQ7XG5cdFx0XHRcdFx0XHRjb25zdCBjbGllbnRZID0gZXZlbnQuY2xpZW50WSAtIGJvdW5kaW5nUmVjdC50b3A7XG5cblx0XHRcdFx0XHRcdC8vIGNvbXB1dGUgd2lkdGggYW5kIGhlaWdodCBpbmNyZW1lbnQgZmFjdG9yXG5cdFx0XHRcdFx0XHRjb25zdCB4RmFjdG9yID0gKGNsaWVudFggLSBkaWFncmFtTW9kZWwuZ2V0T2Zmc2V0WCgpKSAvIG9sZFpvb21GYWN0b3IgLyBjbGllbnRXaWR0aDtcblx0XHRcdFx0XHRcdGNvbnN0IHlGYWN0b3IgPSAoY2xpZW50WSAtIGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkpIC8gb2xkWm9vbUZhY3RvciAvIGNsaWVudEhlaWdodDtcblxuXHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLnNldE9mZnNldChcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmdldE9mZnNldFgoKSAtIHdpZHRoRGlmZiAqIHhGYWN0b3IsXG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5nZXRPZmZzZXRZKCkgLSBoZWlnaHREaWZmICogeUZhY3RvclxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0ZGlhZ3JhbUVuZ2luZS5lbmFibGVSZXBhaW50RW50aXRpZXMoW10pO1xuXHRcdFx0XHRcdFx0dGhpcy5mb3JjZVVwZGF0ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fX1cblx0XHRcdFx0b25Nb3VzZURvd249eyhldmVudCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCB3YXNNb3ZlZDogZmFsc2UgfSk7XG5cblx0XHRcdFx0XHRkaWFncmFtRW5naW5lLmNsZWFyUmVwYWludEVudGl0aWVzKCk7XG5cdFx0XHRcdFx0dmFyIG1vZGVsID0gdGhpcy5nZXRNb3VzZUVsZW1lbnQoZXZlbnQpO1xuXHRcdFx0XHRcdC8vdGhlIGNhbnZhcyB3YXMgc2VsZWN0ZWRcblx0XHRcdFx0XHRpZiAobW9kZWwgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdC8vaXMgaXQgYSBtdWx0aXBsZSBzZWxlY3Rpb25cblx0XHRcdFx0XHRcdGlmIChldmVudC5zaGlmdEtleSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcmVsYXRpdmUgPSBkaWFncmFtRW5naW5lLmdldFJlbGF0aXZlUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc3RhcnRGaXJpbmdBY3Rpb24obmV3IFNlbGVjdGluZ0FjdGlvbihyZWxhdGl2ZS54LCByZWxhdGl2ZS55KSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvL2l0cyBhIGRyYWcgdGhlIGNhbnZhcyBldmVudFxuXHRcdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuY2xlYXJTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5zdGFydEZpcmluZ0FjdGlvbihuZXcgTW92ZUNhbnZhc0FjdGlvbihldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZLCBkaWFncmFtTW9kZWwpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKG1vZGVsLm1vZGVsIGluc3RhbmNlb2YgUG9ydE1vZGVsKSB7XG5cdFx0XHRcdFx0XHQvL2l0cyBhIHBvcnQgZWxlbWVudCwgd2Ugd2FudCB0byBkcmFnIGEgbGlua1xuXHRcdFx0XHRcdFx0aWYgKCF0aGlzLnByb3BzLmRpYWdyYW1FbmdpbmUuaXNNb2RlbExvY2tlZChtb2RlbC5tb2RlbCkpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlbGF0aXZlID0gZGlhZ3JhbUVuZ2luZS5nZXRSZWxhdGl2ZU1vdXNlUG9pbnQoZXZlbnQpO1xuXHRcdFx0XHRcdFx0XHR2YXIgbGluayA9IG5ldyBMaW5rTW9kZWwoKTtcblx0XHRcdFx0XHRcdFx0bGluay5zZXRTb3VyY2VQb3J0KG1vZGVsLm1vZGVsKTtcblxuXHRcdFx0XHRcdFx0XHRsaW5rLmdldEZpcnN0UG9pbnQoKS51cGRhdGVMb2NhdGlvbihyZWxhdGl2ZSk7XG5cdFx0XHRcdFx0XHRcdGxpbmsuZ2V0TGFzdFBvaW50KCkudXBkYXRlTG9jYXRpb24ocmVsYXRpdmUpO1xuXG5cdFx0XHRcdFx0XHRcdGRpYWdyYW1Nb2RlbC5jbGVhclNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdFx0XHRsaW5rLmdldExhc3RQb2ludCgpLnNldFNlbGVjdGVkKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRkaWFncmFtTW9kZWwuYWRkTGluayhsaW5rKTtcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXJ0RmlyaW5nQWN0aW9uKG5ldyBNb3ZlSXRlbXNBY3Rpb24oZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSwgZGlhZ3JhbUVuZ2luZSkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmNsZWFyU2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vaXRzIHNvbWUgb3Igb3RoZXIgZWxlbWVudCwgcHJvYmFibHkgd2FudCB0byBtb3ZlIGl0XG5cdFx0XHRcdFx0XHRpZiAoIWV2ZW50LnNoaWZ0S2V5ICYmICFtb2RlbC5tb2RlbC5pc1NlbGVjdGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmNsZWFyU2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtb2RlbC5tb2RlbC5zZXRTZWxlY3RlZCh0cnVlKTtcblxuXHRcdFx0XHRcdFx0dGhpcy5zdGFydEZpcmluZ0FjdGlvbihuZXcgTW92ZUl0ZW1zQWN0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIGRpYWdyYW1FbmdpbmUpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUpO1xuXHRcdFx0XHRcdHRoaXMuc3RhdGUuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuXHRcdFx0XHR9fVxuXHRcdFx0PlxuXHRcdFx0XHR7dGhpcy5zdGF0ZS5yZW5kZXJlZE5vZGVzICYmIChcblx0XHRcdFx0XHQ8TGlua0xheWVyV2lkZ2V0XG5cdFx0XHRcdFx0XHRkaWFncmFtRW5naW5lPXtkaWFncmFtRW5naW5lfVxuXHRcdFx0XHRcdFx0cG9pbnRBZGRlZD17KHBvaW50OiBQb2ludE1vZGVsLCBldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnN0YXRlLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0ZGlhZ3JhbU1vZGVsLmNsZWFyU2VsZWN0aW9uKHBvaW50KTtcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0YWN0aW9uOiBuZXcgTW92ZUl0ZW1zQWN0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIGRpYWdyYW1FbmdpbmUpXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQpfVxuXHRcdFx0XHQ8Tm9kZUxheWVyV2lkZ2V0IGRpYWdyYW1FbmdpbmU9e2RpYWdyYW1FbmdpbmV9IC8+XG5cdFx0XHRcdHt0aGlzLnN0YXRlLmFjdGlvbiBpbnN0YW5jZW9mIFNlbGVjdGluZ0FjdGlvbiAmJiB0aGlzLmRyYXdTZWxlY3Rpb25Cb3goKX1cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvd2lkZ2V0cy9EaWFncmFtV2lkZ2V0LnRzeCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtDQTs7QUFFQTtBQUNBO0FBQUE7QUFXQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQWphQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwWkE7QUFBQTtBQW5hQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30\n");

/***/ })
/******/ ]);
});