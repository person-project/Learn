<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/css/css/layui.css">
  <title>Document</title>
</head>

<body>
  <table id="showMsg" lay-filter="test"></table>
  <script src="/js/layui/layui.all.js" charset="utf-8"></script>
<script type="text/html" id="toolbar">
  <a class="layui-btn layui-btn-mini" lay-event="detail">查看</a>
  <a class="layui-btn layui-btn-mini" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-mini layui-btn-danger" lay-event="delete">删除</a>
</script>
  <script type="text/javascript">
    var table = layui.table;
    table.render({
      elem: '#showMsg',
      height: 350,
      url: '/json/data.json',
      page: true,
      cols: [[{
            checkbox: true,
            field: 'id',
            title: 'ID',
            width: 80,
            fixed: 'left',
            rowspan: 2
          }, {
            field: 'username',
            title: '用户名',
            edit: true,
            width: 80
          }, {
            field: 'sex',
            title: '性别',
            width: 80,
            sort: true
          }, {
            field: 'city',
            title: '城市',
            width: 80
          }, {
            field: 'sign',
            title: '签名',
            width: 177
          }, {
            field: 'experience',
            title: '积分',
            width: 80,
            sort: true
          }, {
            field: 'score',
            title: '评分',
            width: 80,
            sort: true
          }, {
            field: 'classify',
            title: '职业',
            width: 80
          }, {
            field: 'wealth',
            title: '财富',
            width: 135,
            sort: true
          }, {
            fixed: 'right',
            width: 230,
            align: 'center',
            toolbar: '#toolbar'
          }]]
    });

    table.on('tool(test)', function (obj) {
      var data = obj.data;
      var layEvent = obj.event;
      var tr = obj.tr;
      console.log(obj);
      if (layEvent === 'detail') {
        console.log('details');
      } else if (layEvent === 'edit') {
        console.log('edit');
      } else {
        console.log('delete');
      }
    })
    table.on('edit(test)', function (obj) {
      console.log(obj);
    })
  </script>
</body>

</html>
